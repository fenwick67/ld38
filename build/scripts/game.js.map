{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "src\\controllers\\FullscreenController.js",
    "src\\controllers\\LevelController.js",
    "src\\index.js",
    "src\\objects\\Checkpoint.js",
    "src\\objects\\CurvyShader.js",
    "src\\objects\\FixedSpeechBox.js",
    "src\\objects\\Follower.js",
    "src\\objects\\Item.js",
    "src\\objects\\Player.js",
    "src\\objects\\PlayerSpeechBox.js",
    "src\\objects\\RainbowText.js",
    "src\\objects\\Ship.js",
    "src\\objects\\Sky.js",
    "src\\objects\\SpeechBox.js",
    "src\\states\\LoadingState.js",
    "src\\states\\PlayingState.js",
    "src\\states\\WonState.js"
  ],
  "names": [],
  "mappings": "AAAA;;;;;;;;;;;;;;;;;;;;;;;I,ACAM,mCACJ;kCAAA,AAAY,MAAK;oBAAA;;8BACf;;aAAA,AAAK,OAAL,AAAY,AAEZ;;AACA;aAAA,AAAK,KAAK,SAAA,AAAS,cAAnB,AAAU,AAAuB,AACjC;aAAA,AAAK,GAAL,AAAQ,UAAR,AAAkB,IAAlB,AAAsB,AAEtB;;YAAI,OAAO,SAAA,AAAS,cAApB,AAAW,AAAuB,AAClC;aAAA,AAAK,cAAL,AAAiB,AACjB;aAAA,AAAK,GAAL,AAAQ,YAAR,AAAoB,AAEpB;;YAAI,MAAM,SAAA,AAAS,gBAAT,AAAyB,8BAAnC,AAAU,AAAsD,AAChE;YAAA,AAAI,aAAJ,AAAiB,SAAjB,AAA0B,AAC1B;YAAA,AAAI,aAAJ,AAAiB,UAAjB,AAA2B,AAC3B;YAAA,AAAI,aAAJ,AAAiB,WAAjB,AAA2B,AAC3B;YAAA,AAAI,aAAJ,AAAiB,WAAjB,AAA4B,AAC5B;YAAA,AAAI,YAIJ;aAAA,AAAK,GAAL,AAAQ,YAAR,AAAoB,AAEpB;;aAAA,AAAK,GAAL,AAAQ,iBAAR,AAAyB,SAAQ,YAAA;mBAAI,MAAJ,AAAI,AAAK;AAA1C,AACA;iBAAA,AAAS,eAAT,AAAwB,iBAAxB,AAAyC,YAAY,KAArD,AAA0D,AAE3D;;;;;iCAGQ,AACP;gBAAI,KAAA,AAAK,KAAL,AAAU,MAAd,AAAoB,cAAa,AAC7B;qBAAA,AAAK,KAAL,AAAU,MAAV,AAAgB,AAChB;qBAAA,AAAK,KAAL,AAAU,OAAV,AAAiB,UAAjB,AAA2B,IAA3B,AAA+B,AAClC;AAHD,mBAII,AACA;qBAAA,AAAK,KAAL,AAAU,MAAV,AAAgB,sBAAsB,OAAA,AAAO,aAA7C,AAA0D,AAC1D;qBAAA,AAAK,KAAL,AAAU,MAAV,AAAgB,gBAAhB,AAAgC,AAChC;qBAAA,AAAK,KAAL,AAAU,OAAV,AAAiB,UAAjB,AAA2B,OAA3B,AAAkC,AACrC;AACF;;;;;;;kB,AAKY;;;;;;;;;;;;;;;I,AC5CT,kBACJ,yBAAA,AAAY,MAAK;wBACf;;OAAA,AAAK,OAAL,AAAY,AACb;A;;kB,AAGY;;;;;ACNf;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;I,AAEM;kBAEL;;kBAAc;0BACb;;QAAI;aAAS,AACF,AACP;cAFS,AAED,AACR;gBAAU,OAHD,AAGQ,AACjB;iBAJS,AAIE,AACb;kBALW,AAKA,AACT;oBANS,AAMK,AAChB;cARW,AACb,AAAa,AAOJ;AAPI,AACT;;4GAFS,AAUP,AACN;;UAAA,AAAK,uBAAuB,mCAA5B,AAEA;;UAAA,AAAK,MAAL,AAAW,IAAX,AAAe,wCAAf,AAA6C,AAC7C;UAAA,AAAK,MAAL,AAAW,IAAX,AAAe,wCAAf,AAA6C,AAC7C;UAAA,AAAK,MAAL,AAAW,IAAX,AAAe,gCAAf,AAAqC,AAErC;;UAAA,AAAK,MAAL,AAAW,MAAX,AAAiB,AAEjB;;AACA;WAAA,AAAO,QApBM,AAoBb,AAAe;WACf;;;;EAvBiB,O,AAAO;;AA2B1B,OAAA,AAAO,OAAO,IAAd,AAAc,AAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;I,AClCZ;wBAEJ;;sBAAA,AAAY,MAAZ,AAAiB,SAAQ;0BAAA;;wHAAA,AACjB,MAAK,QADY,AACJ,GAAE,QAAA,AAAQ,IADN,AACQ,IADR,AACW,cADX,AACwB,AAE/C;;UAAA,AAAK,SAAL,AAAc,AACd;UAAA,AAAK,OAAL,AAAY,AACZ;UAAA,AAAK,OAAL,AAAY,AAEZ;;AACA;UAAA,AAAK,WAAL,AAAgB,IAAhB,AAAoB,QAAQ,CAAA,AAAC,GAAD,AAAG,GAAH,AAAK,GAAL,AAAO,GAAP,AAAS,GAAT,AAAW,GAAX,AAAa,GAAzC,AAA4B,AAAe,IAA3C,AAA+C,IAA/C,AAAmD,AACnD;UAAA,AAAK,WAAL,AAAgB,KAAhB,AAAqB,AACrB;UAAA,AAAK,WAAL,AAAgB,YAAhB,AAA4B,SAA5B,AAAqC,AAErC;;QAAI,CAAC,MAAA,AAAK,KAAV,AAAe,aAAY,AACzB;YAAA,AAAK,KAAL,AAAU,cAAV,AAAwB,AACzB;AAED;;UAAA,AAAK,KAAL,AAAU,YAAV,AAAsB,KAEtB;;AACA;QAAI,MAAA,AAAK,KAAT,AAAc,WAAU,AACtB;YAAA,AAAK,KAAL,AAAU,UAAV,AAAoB,SACrB;AAFD,WAEK,AACH;YAAA,AAAK,KAAL,AAAU,MAAV,AAAgB,SACjB;AAvBsB;WAwBxB;;;;;6BAEO,AACN;UAAI,KAAA,AAAK,mBAAL,AAAwB,QAAQ,KAAhC,AAAqC,UAAU,OAAA,AAAO,MAAP,AAAa,SAAb,AAAsB,MAAK,KAA3B,AAAgC,UAAnF,AAA6F,IAAG,AAC9F;YAAI,OAAJ,AAAW,AAEX;;aAAA,AAAK,YAAL,AAAiB,QAAQ,UAAA,AAAS,IAAG,AACnC;cAAI,MAAJ,AAAU,MAAK,AACb;eAAA,AAAG,SAAH,AAAY,AACZ;eAAA,AAAG,WAAH,AAAc,YAAd,AAA0B,SAA1B,AAAmC,AACpC;AACF;AALD,AAOA;;aAAA,AAAK,iBAAL,AAAsB,AAEtB;;aAAA,AAAK,SAAL,AAAc,AACd;aAAA,AAAK,WAAL,AAAgB,YAAhB,AAA4B,SAA5B,AAAqC,AACrC;aAAA,AAAK,MAAL,AAAW,KAAX,AAAgB,AACjB;AACF;;;;;EA7CsB,O,AAAO;;kB,AAiDjB;;;;;;;;;;;;;;;;;;;;;;;;;;;I,ACjDT;2BACJ;;yBAAA,AAAY,MAAK;8BAAA;;8HAAA,AACP,AAEN;;cAAA,AAAK,OAAL,AAAY,AACZ;cAAA,AAAK,SAAL,AAAc,SAAS,EAAE,MAAF,AAAQ,MAAM,OAArC,AAAuB,AAAqB,AAC5C;cAAA,AAAK,SAAL,AAAc,YAAY,EAAE,MAAF,AAAQ,MAAM,OAAO,EAAE,GAAF,AAAK,KAAK,GAAzD,AAA0B,AAAqB,AAAa,AAC5D;cAAA,AAAK,SAAL,AAAc,aAAa,EAAE,MAAF,AAAQ,MAAM,OAAO,EAAE,GAAF,AAAK,QAAQ,GAA7D,AAA2B,AAAqB,AAAgB,AAEhE;;cAAA,AAAK,SAAL,AAAc,OAAO,EAAE,MAAF,AAAQ,MAAM,OAAnC,AAAqB,AAAqB,AAC1C;cAAA,AAAK,SAAL,AAAc,SAAS,EAAE,MAAF,AAAQ,MAAM,OAArC,AAAuB,AAAqB,AAE5C;;cAAA,AAAK,cAXQ;;eAyChB;;;;EA1CuB,O,AAAO;;AA8CjC;;;;;;;AAMA,OAAA,AAAO,eAAe,YAAtB,AAAkC,WAAlC,AAA6C;SACpC,eAAW,AAEZ;;eAAO,KAAA,AAAK,SAAL,AAAc,UAArB,AAA+B,AAElC;AALgD,AAOjD;;SAAK,aAAA,AAAS,OAAO,AAEjB;;aAAA,AAAK,QAAL,AAAa,AACb;aAAA,AAAK,SAAL,AAAc,UAAd,AAAwB,QAAxB,AAAgC,AAEnC;AAZL,AAAqD;AAAA,AACjD;;AAcJ;;;;;;AAMA,OAAA,AAAO,eAAe,YAAtB,AAAkC,WAAlC,AAA6C;SACpC,eAAW,AACZ;eAAO,KAAA,AAAK,SAAL,AAAc,UAAd,AAAwB,MAA/B,AAAqC,AACxC;AAHiD,AAKlD;;SAAK,aAAA,AAAS,OAAO,AACjB;aAAA,AAAK,QAAL,AAAa,AACb;aAAA,AAAK,SAAL,AAAc,UAAd,AAAwB,MAAxB,AAA8B,IAA9B,AAAkC,AACrC;AARL,AAAsD;AAAA,AAClD;;AAUJ;;;;;;AAMA,OAAA,AAAO,eAAe,YAAtB,AAAkC,WAAlC,AAA6C;SACpC,eAAW,AACZ;eAAO,KAAA,AAAK,SAAL,AAAc,UAAd,AAAwB,MAA/B,AAAqC,AACxC;AAHiD,AAIlD;SAAK,aAAA,AAAS,OAAO,AACjB;aAAA,AAAK,QAAL,AAAa,AACb;aAAA,AAAK,SAAL,AAAc,UAAd,AAAwB,MAAxB,AAA8B,IAA9B,AAAkC,AACrC;AAPL,AAAsD;AAAA,AAClD;;AASJ;;;;;;AAMA,OAAA,AAAO,eAAe,YAAtB,AAAkC,WAAlC,AAA6C;SACpC,eAAW,AACZ;eAAO,KAAA,AAAK,SAAL,AAAc,KAArB,AAA0B,AAC7B;AAHgD,AAIjD;SAAK,aAAA,AAAS,OAAO,AACjB;aAAA,AAAK,QAAL,AAAa,AACb;aAAA,AAAK,SAAL,AAAc,KAAd,AAAmB,QAAnB,AAA2B,AAC9B;AAPL,AAAqD;AAAA,AACjD;;AASJ;;;;;;AAMA,OAAA,AAAO,eAAe,YAAtB,AAAkC,WAAlC,AAA6C;SACpC,eAAW,AACZ;eAAO,KAAA,AAAK,SAAL,AAAc,OAArB,AAA4B,AAC/B;AAHkD,AAInD;SAAK,aAAA,AAAS,OAAO,AACjB;aAAA,AAAK,QAAL,AAAa,AACb;aAAA,AAAK,SAAL,AAAc,OAAd,AAAqB,QAArB,AAA6B,AAChC;AAPL,AAAuD;AAAA,AACnD;;kB,AAaW;;;;;;;;;;;;;;;;;;;ACxIf;;;;;;;;;;;;;;;;;;;;;;;;;;I,AAEM;4BACJ;;0BAAA,AAAY,GAAZ,AAAc,GAAd,AAAgB,KAAI;0BAAA;;gIAAA,AAEZ,GAFY,AAEV,GAFU,AAClB,AACU;AACV;;;UAAA,AAAK,gBAAL,AAAqB,AACrB;UAAA,AAAK,SAAL,AAAc,IAAI,MAAA,AAAI,IAAtB,AAA0B,AAC1B;UAAA,AAAK,SAAL,AAAc,IAAI,MAAA,AAAI,IAAtB,AAA0B,AAC1B;UAAA,AAAK,SAAL,AAAc,OAAd,AAAqB,IAArB,AAAyB,AAEzB;;UAAA,AAAK,aAAL,AAAkB,IAAlB,AAAsB,IARJ,AAQlB,AAAyB;WAC1B;;;;;0B,AAEM,K,AAAI,WAAU,AACnB;UAAI,YAAJ,AAAgB,AAChB;UAAI,OAAA,AAAO,aAAX,AAAwB,aAAY,AAClC;oBAAA,AAAY,AACb;AACD;aAAO,KAAA,AAAK,qBAAL,AAA0B,KAAjC,AAAO,AAA8B,AACtC;;;;kC,AAEa,MAAK,AACjB;UAAI,OAAJ,AAAW,AAEX;;UAAI,OAAA,AAAO,QAAX,AAAmB,UAAS,AAAC;eAAO,KAAA,AAAK,MAAZ,AAAO,AAAW,AAAM;AAErD;;AAEA;;UAAI,QAAJ,AAAY,AACZ;eAAA,AAAS,OAAO,AACd;YAAI,QAAQ,KAAZ,AAAiB,QAAQ,AACvB;eAAA,AAAK,MAAM,KAAX,AAAW,AAAK,UAAhB,AAAyB,OAAzB,AAAgC,KAAhC,AAAqC,AACtC;AAFD,eAEK,AAAC;AACJ;eAAA,AAAK,AACN;AACF;AACD;AAED;;;;;;;kB,AAKY;;AACf,OAAA,AAAO,iBAAP,AAAwB;;;;;;;;;;;;;;;;;;;AC7CxB;;;;;;;;;;;;;;;;;;;;;;;;;;I,AAEM;sBAEJ;;oBAAA,AAAY,MAAZ,AAAiB,KAAI;0BAAA;;oHAAA,AACb,MADa,AACR,GADQ,AACN,GAAE,OADI,AACC,YADD,AACY,AAC/B;;UAAA,AAAK,MAAM,OAAX,AAAgB,AAChB;UAAA,AAAK,OAAL,AAAY,AACZ;UAAA,AAAK,aAAL,AAAkB,AAClB;UAAA,AAAK,OAAL,AAAY,AAEZ;;AACA;UAAA,AAAK,eAAe,EAAC,GAAD,AAAG,KAAI,GAA3B,AAAoB,AAAS,AAE7B;;AACA;UAAA,AAAK,WAAL,AAAgB,IAAhB,AAAoB,QAAQ,CAAA,AAAC,GAAD,AAAG,GAAH,AAAK,GAAjC,AAA4B,AAAO,IAAnC,AAAuC,IAAvC,AAA2C,AAC3C;UAAA,AAAK,WAAL,AAAgB,IAAhB,AAAoB,QAAQ,CAAA,AAAC,GAAD,AAAG,GAAH,AAAK,GAAL,AAAO,GAAP,AAAS,GAAT,AAAW,GAAX,AAAa,GAAb,AAAe,GAAf,AAAiB,GAAjB,AAAmB,GAAnB,AAAqB,GAArB,AAAuB,GAAvB,AAAyB,GAAzB,AAA2B,GAA3B,AAA6B,GAA7B,AAA+B,GAA/B,AAAiC,GAAjC,AAAmC,GAAnC,AAAqC,GAArC,AAAuC,GAAvC,AAAyC,GAAzC,AAA2C,GAA3C,AAA6C,GAA7C,AAA+C,GAA/C,AAAiD,GAAjD,AAAmD,GAA/E,AAA4B,AAAqD,IAAjF,AAAqF,IAArF,AAAyF,AAEzF;;AACA;UAAA,AAAK,QAAL,AAAW,AACX;UAAA,AAAK,YAAL,AAAiB,AACjB;UAAA,AAAK,OAAL,AAAY,AACZ;UAAA,AAAK,OAAL,AAAY,AACZ;UAAA,AAAK,QAAL,AAAa,AACb;UAAA,AAAK,cAAL,AAAmB,AACnB;UAAA,AAAK,eAAL,AAAoB,AACpB;UAAA,AAAK,eAAL,AAAoB,AAEpB;;AACA;SAAA,AAAK,QAAL,AAAa,GAAb,AAAgB,OAChB;UAAA,AAAK,KAAL,AAAU,OAAO,MAAjB,AAAsB,AACtB;UAAA,AAAK,OAAL,AAAY,MAAZ,AAAkB,KA3BC,AA2BnB,AAAsB,MAAM,AAC5B;UAAA,AAAK,KAAL,AAAU,UAAU,MAApB,AAAyB,MAAzB,AAA8B,GAA9B,AAAgC,AAChC;UAAA,AAAK,KAAL,AAAU,OAAV,AAAiB,IAAjB,AAAqB,GAAE,MAAvB,AAA4B,AAC5B;UAAA,AAAK,KAAL,AAAU,gBAAV,AAAwB,AAExB;;AACA;UAAA,AAAK,UAAU,MAAA,AAAK,KAAL,AAAU,MAAV,AAAgB,SAA/B,AAAe,AAAyB,AAE1C;;UAAA,AAAK,KAAL,AAAU,kBAAkB,KAA5B,AAAiC,AACjC;UAAA,AAAK,KAAL,AAAU,SAAS,CAAC,KAAD,AAAM,qBAAoB,KAAA,AAAK,QAAL,AAAa,GAA1D,AAAmB,AAA0C,AAC3D;UAAA,AAAK,WAAL,AAAgB,KArCG,AAqCnB,AAAqB;;WAEtB;;;;;2B,AAEM,QAAO,AACZ;WAAA,AAAK,SAAL,AAAc,AACd;aAAA,AAAO,YAAY,OAAA,AAAO,aAA1B,AAAuC,AACvC;aAAA,AAAO,UAAP,AAAiB,KAAjB,AAAsB,AACtB;WAAA,AAAK,gBAAgB,KAAA,AAAK,gBAAc,OAAA,AAAO,UAAP,AAAiB,SAAzD,AAAqB,AAA2C,AAChE;WAAA,AAAK,eAAe,KAAA,AAAK,gBAAc,OAAA,AAAO,UAAP,AAAiB,SAAxD,AAAoB,AAA2C,AAChE;;;;6BAIO,AAER;;UAAI,KAAJ,AAAS,MAAK,AACZ;aAAA,AAAK,KAAL,AAAU,IAAI,KAAd,AAAmB,AACnB;aAAA,AAAK,KAAL,AAAU,IAAI,KAAA,AAAK,IAAnB,AAAqB,AACtB;AAGD;;AACA;UAAK,CAAC,KAAD,AAAM,QAAQ,KAAd,AAAmB,cAAc,CAAC,KAAlC,AAAuC,UAAU,KAAjD,AAAsD,UAAU,OAAA,AAAO,MAAP,AAAa,SAAS,KAAtB,AAA2B,MAAK,KAAhC,AAAqC,UAA1G,AAAoH,IAAG,AACrH;aAAA,AAAK,OAAO,KAAZ,AAAiB,AACjB;aAAA,AAAK,MAAL,AAAW,KAAX,AAAgB,AAChB;YAAI,KAAJ,AAAS,aAAY,AACnB;yCAAA,AAAqB,cAAc,KAAnC,AAAwC,AACzC;AACF;AAED;;UAAI,KAAJ,AAAS,QAAO,AACZ;YAAI,IAAI,OAAA,AAAO,MAAP,AAAa,SAAS,KAAA,AAAK,OAA3B,AAAkC,UAAS,KAAnD,AAAQ,AAAgD,AACxD;YAAI,KAAK,KAAA,AAAK,IAAI,KAAA,AAAK,OAAL,AAAY,IAAI,KAAA,AAAK,KAAvC,AAAS,AAAmC,AAE5C;;YAAK,IAAI,KAAJ,AAAS,gBAAgB,KAAK,KAAnC,AAAwC,cAAa,AAAE;AACrD;eAAA,AAAK,KAAL,AAAU,SAAV,AAAmB,IAAI,KAAA,AAAK,KAAL,AAAU,SAAV,AAAmB,IAA1C,AAA8C,AAC/C;AAED;;AAJA;iBAKS,IAAI,KAAR,AAAa,aAAY,AAC5B;iBAAA,AAAK,KAAL,AAAU,IAAI,KAAA,AAAK,OAAnB,AAA0B,AAC1B;iBAAA,AAAK,KAAL,AAAU,IAAI,KAAA,AAAK,OAAL,AAAY,IAAI,KAAA,AAAK,OAAL,AAAY,OAA1C,AAA+C,AAC/C;AACD;AAJI,WAAA,MAMD,AACF;AACA;gBAAI,KAAA,AAAK,OAAL,AAAY,IAAI,KAAA,AAAK,SAAzB,AAAkC,GAAG,AAAI;AACvC;mBAAA,AAAK,KAAL,AAAU,SAAV,AAAmB,IAAI,CAAA,AAAC,IAAE,KAA1B,AAA+B,AAC/B;mBAAA,AAAK,WAAL,AAAgB,KAAhB,AAAqB,AACtB;AAHD,mBAIK,AAAC;AACJ;mBAAA,AAAK,KAAL,AAAU,SAAV,AAAmB,IAAI,KAAvB,AAA4B,AAC7B;AAEF;AAGF;AA5BH,aA4BO,AACH;AACA;AACA;aAAA,AAAK,KAAL,AAAU,SAAV,AAAmB,IAAI,KAAA,AAAK,KAAL,AAAU,SAAV,AAAmB,IAA1C,AAA8C,AAC/C;AAEC;;AACA;UAAI,KAAA,AAAK,KAAL,AAAU,SAAV,AAAmB,IAAK,KAAA,AAAK,QAAjC,AAAyC,KAAI,AAC3C;aAAA,AAAK,MAAL,AAAW,IAAX,AAAe,AACf;aAAA,AAAK,WAAL,AAAgB,KAAhB,AAAqB,AACtB;AAHD,iBAGU,KAAA,AAAK,KAAL,AAAU,SAAV,AAAmB,IAAI,KAAA,AAAK,QAAQ,CAAxC,AAAyC,KAAI,AACjD;aAAA,AAAK,MAAL,AAAW,IAAI,CAAf,AAAgB,AAChB;aAAA,AAAK,WAAL,AAAgB,KAAhB,AAAqB,AACtB;AAHK,OAAA,MAGD,AACH;aAAA,AAAK,WAAL,AAAgB,KAAhB,AAAqB,AACtB;AAGJ;;;;4B,AAEO,G,AAAE,GAAE,AACV;WAAA,AAAK,KAAL,AAAU,IAAV,AAAY,AACZ;WAAA,AAAK,KAAL,AAAU,IAAV,AAAY,AACZ;WAAA,AAAK,KAAL,AAAU,SAAV,AAAmB,IAAnB,AAAuB,AACvB;WAAA,AAAK,KAAL,AAAU,SAAV,AAAmB,IAAnB,AAAuB,AAEvB;;UAAI,KAAA,AAAK,KAAT,AAAc,eAAc,AAC1B;gBAAA,AAAQ,IAAR,AAAY,AACZ;aAAA,AAAK,KAAL,AAAU,cAAV,AAAwB,SAAxB,AAAiC,AAClC;AAHD,aAGK,AACH;gBAAA,AAAQ,IAAR,AAAY,AACZ;aAAA,AAAK,KAAL,AAAU,MAAV,AAAgB,SAAhB,AAAyB,AAC1B;AACF;;;;6B,AAEQ,GAAE,AACT;WAAA,AAAK,OAAL,AAAY,AACZ;AACA;UAAI,MAAM,KAAA,AAAK,OAAL,AAAY,UAAZ,AAAsB,QAAhC,AAAU,AAA8B,AACxC;UAAI,MAAM,CAAV,AAAW,GAAG,AACZ;aAAA,AAAK,OAAL,AAAY,UAAZ,AAAsB,OAAtB,AAA6B,KAA7B,AAAkC,AACnC;AAFD,aAEK,AAAC;gBAAA,AAAQ,IAAR,AAAY,AAAS;AAE3B;;WAAA,AAAK,KAAL,AAAU,QAAV,AAAkB,AAElB;;WAAA,AAAK,KAAL,AAAU,IAAE,KAAA,AAAK,KAAL,AAAU,IAAI,KAAA,AAAK,KAAL,AAAU,MAAV,AAAgB,SAA1C,AAAiD,AACjD;WAAA,AAAK,KAAL,AAAU,IAAE,KAAA,AAAK,KAAjB,AAAsB,AACtB;WAAA,AAAK,KAAL,AAAU,SAAV,AAAmB,IAAnB,AAAuB,AACvB;WAAA,AAAK,KAAL,AAAU,SAAV,AAAmB,IAAnB,AAAuB,AACvB;WAAA,AAAK,SAAL,AAAc,AAEd;;UAAI,KAAA,AAAK,KAAL,AAAU,MAAV,AAAgB,UAAU,KAAA,AAAK,KAAnC,AAAwC,aAAY,AAClD;uCAAA,AAAqB,MAArB,AAA2B,AAC5B;AAFD,aAEK,AACH;uCAAA,AAAqB,MAAM,oBAAkB,EAAA,AAAE,YAApB,AAAgC,OAA3D,AAAgE,AACjE;AAEF;;;;;EA3JoB,O,AAAO;;kB,AA+Jf;;;;;;;;;;;;;;;;;;;ACjKf;;;;;;;;;;;;;;;;;;;;;;;;;;I,AAEM;kBAEJ;;gBAAA,AAAY,MAAZ,AAAiB,SAAQ;0BACvB;;QAAI,CAAC,QAAL,AAAa,MAAK,AAAC;cAAA,AAAQ,MAAR,AAAc,SAAS,MAAM,IAAA,AAAI,MAAV,AAAM,AAAU,AAA4B;AAD/D;;4GAAA,AAEjB,MAAK,QAFY,AAEJ,GAAE,QAAA,AAAQ,IAFN,AAEQ,IAAG,QAFX,AAEmB,MAFnB,AAEwB,AAE/C;;UAAA,AAAK,cAAL,AAAmB,AACnB;UAAA,AAAK,WAAL,AAAgB,AAEhB;;AACA;QAAI,MAAA,AAAK,KAAT,AAAc,WAAU,AACtB;YAAA,AAAK,KAAL,AAAU,UAAV,AAAoB,SACrB;AAFD,WAEK,AACH;YAAA,AAAK,KAAL,AAAU,MAAV,AAAgB,SACjB;AAZsB;WAaxB;;;;;6BAEO,AACN;UAAI,CAAC,KAAD,AAAM,YAAY,KAAlB,AAAuB,UAAU,OAAA,AAAO,MAAP,AAAa,SAAb,AAAsB,MAAK,KAA3B,AAAgC,UAArE,AAA+E,IAAG,AAChF;aAAA,AAAK,AACN;AACF;;;;+BAES,AAER;;AACA;UAAI,KAAA,AAAK,YAAL,AAAiB,QAAQ,KAAA,AAAK,YAAL,AAAiB,QAA9C,AAAsD,WAAU,AAC9D;aAAA,AAAK,OAAL,AAAY,aAAZ,AAAyB,AACzB;aAAA,AAAK,MAAL,AAAW,KAAX,AAAgB,AAChB;aAAA,AAAK,WAAL,AAAgB,AAChB;aAAA,AAAK,AACL;wCAAA,AAAsB,MAAtB,AAA4B,AAC5B;AACD;AAED;;AAEA;;UAAI,KAAA,AAAK,UAAU,KAAA,AAAK,OAApB,AAA2B,aAAa,KAAA,AAAK,OAAL,AAAY,UAAZ,AAAsB,SAAlE,AAA2E,GAAE,AAC3E;aAAA,AAAK,WAAL,AAAgB,AAChB;aAAA,AAAK,MAAL,AAAW,KAAX,AAAgB,AAChB;YAAI,WAAW,KAAA,AAAK,OAAL,AAAY,UAA3B,AAAe,AAAsB,AACrC;iBAAA,AAAS,SAAT,AAAkB,AACnB;AAEF;;;;;EA5CgB,O,AAAO;;kB,AAgDX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;I,AClDT;oBAEJ;;kBAAA,AAAY,MAAZ,AAAiB,KAAjB,AAAqB;0BAAM;;gHAAA,AACnB,MADmB,AACd,GADc,AACZ,GADY,AACV,aADU,AACE,AAC3B;;UAAA,AAAK,OAAL,AAAY,AAEZ;;AACA;UAAA,AAAK,WAAL,AAAgB,IAAhB,AAAoB,QAAQ,CAAA,AAAC,GAAD,AAAG,GAAH,AAAK,GAAL,AAAO,GAAP,AAAS,GAArC,AAA4B,AAAW,IAAvC,AAA2C,IAA3C,AAA+C,AAC/C;UAAA,AAAK,WAAL,AAAgB,IAAhB,AAAoB,OAAO,CAAA,AAAC,GAAD,AAAG,GAAH,AAAK,IAAL,AAAQ,GAAR,AAAU,IAArC,AAA2B,AAAa,KAAxC,AAA6C,IAA7C,AAAiD,AACjD;AACA;UAAA,AAAK,WAAL,AAAgB,IAAhB,AAAoB,QAAQ,CAAA,AAAC,GAAD,AAAG,GAAH,AAAK,GAAL,AAAO,IAAP,AAAU,GAAV,AAAY,GAAZ,AAAc,GAAd,AAAgB,IAAhB,AAAmB,GAAnB,AAAqB,IAArB,AAAwB,GAAxB,AAA0B,IAA1B,AAA6B,GAA7B,AAA+B,GAA/B,AAAiC,GAAjC,AAAmC,IAAnC,AAAsC,GAAtC,AAAwC,GAAxC,AAA0C,GAA1C,AAA4C,IAA5C,AAA+C,IAA/C,AAAkD,IAAlD,AAAqD,IAArD,AAAwD,IAAxD,AAA2D,GAA3D,AAA6D,GAA7D,AAA+D,GAA/D,AAAiE,IAAjE,AAAoE,IAApE,AAAuE,IAAvE,AAA0E,IAAtG,AAA4B,AAA6E,KAAzG,AAA8G,GAA9G,AAAiH,AACjH;UAAA,AAAK,WAAL,AAAgB,IAAhB,AAAoB,OAAO,CAAA,AAAC,IAA5B,AAA2B,AAAI,KAA/B,AAAoC,IAApC,AAAwC,AAExC;;UAAA,AAAK,YAAL,AAAiB,AACjB;UAAA,AAAK,oBAAL,AAAyB,AAEzB;;AACA;UAAA,AAAK,QAAL,AAAW,AACX;UAAA,AAAK,YAAL,AAAiB,AACjB;UAAA,AAAK,OAAL,AAAY,AACZ;UAAA,AAAK,OAAL,AAAY,AACZ;UAAA,AAAK,QAAQ,CAAb,AAAc,AACd;UAAA,AAAK,iBAAL,AAAsB,AACtB;UAAA,AAAK,cAAc,MAAnB,AAAwB,AAExB;;AACA;SAAA,AAAK,QAAL,AAAa,GAAb,AAAgB,OAEhB;;UAAA,AAAK,KAAL,AAAU,OAAO,MAAjB,AAAsB,AACxB;UAAA,AAAK,OAAL,AAAY,MAAZ,AAAkB,KA3BS,AA2B3B,AAAsB,KA3BK,CA2BC,AAC5B;UAAA,AAAK,KAAL,AAAU,UAAU,MAApB,AAAyB,MAAzB,AAA8B,GAA9B,AAAgC,AAC9B;UAAA,AAAK,KAAL,AAAU,OAAV,AAAiB,IAAjB,AAAqB,GAAE,MAAvB,AAA4B,AAC9B;UAAA,AAAK,KAAL,AAAU,gBAAV,AAAwB,AAExB;;UAAA,AAAK,KAAL,AAAU,kBAAkB,KAA5B,AAAiC,AACjC;UAAA,AAAK,KAAL,AAAU,SAAS,CAAC,KAAD,AAAM,qBAAoB,KAA1B,AAA+B,sBAAqB,KAAA,AAAK,QAAL,AAAa,GAApF,AAAmB,AAAoE,AAGrF;;AACA;UAAA,AAAK,UAAU,MAAA,AAAK,KAAL,AAAU,MAAV,AAAgB,SArCN,AAqCzB,AAAe,AAAyB;;WAEzC;;;;;0BAEI,AACH;AACD;;;;6BAEO,AACN;UAAI,UAAU,KAAd,AAAmB,AACnB;UAAI,SAAJ,AAAa,AACb;UAAI,WAAW,aAAf,AAAe,AAAa,AAC5B;UAAI,WAAJ,AAAe,AACf;AAEA;;UAAI,QAAA,AAAQ,KAAZ,AAAiB,QAAO,AACtB;mBAAA,AAAS,AACT;eAAA,AAAO,WAAP,AAAkB,KAFI,AAEtB,AAAuB,QAAO,AAC9B;eAAA,AAAO,AACR;AAJD,iBAKS,QAAA,AAAQ,KAAZ,AAAiB;AACd;eAAA,AAAO,MAAP,AAAa,IAAI,CADK,AACtB,AAAkB,EADI,AAAI,CACJ,AACtB;mBAAW,CAAA,AAAC,IAAE,OAAd,AAAqB,AACrB;eAAA,AAAO,WAAP,AAAkB,KAAlB,AAAuB,AAC9B;AAJI,OAAA,UAKI,QAAA,AAAQ,MAAZ,AAAkB,QAAQ,AAAC;AACxB;eAAA,AAAO,MAAP,AAAa,IAAb,AAAiB,AACjB;mBAAU,OAAV,AAAiB,AACjB;eAAA,AAAO,WAAP,AAAkB,KAAlB,AAAuB,AAC9B;AAJI,OAAA,MAKA,AAAC;AACJ;YAAA,AAAG,UAAS,AACV;qBADU,AACV,AAAS,GAAI,AACb;iBAAA,AAAO,WAAP,AAAkB,KAAlB,AAAuB,AACxB;AAEF;AAED;;UAAI,QAAA,AAAQ,GAAR,AAAW,UAAS,CAAC,OAAzB,AAAgC,iBAAgB,AAE5C;;YAAA,AAAG,UAAS,AAAG;AACX;iBAAA,AAAO,KAAP,AAAY,SAAZ,AAAqB,IAAI,CAAA,AAAC,IAAE,OADpB,AACR,AAAmC,WAAa,AAChD;eAAA,AAAK,MAAL,AAAW,KAAX,AAAgB,AAChB;iBAAA,AAAO,kBAAP,AAAyB,AAC5B;AACJ;AAPD,aAOK,AAAC;eAAA,AAAO,kBAAP,AAAyB,AAAO;AAEtC;;UAAI,CAAA,AAAC,YAAY,QAAA,AAAQ,GAArB,AAAwB,UAAU,OAAlC,AAAyC,cAAc,OAAA,AAAO,cAAlE,AAAgF,GAAE,AAChF;eAAA,AAAO,AACP;eAAA,AAAO,KAAP,AAAY,SAAZ,AAAqB,IAAI,CAAA,AAAC,IAAE,OAA5B,AAAmC,AACnC;eAAA,AAAO,WAAP,AAAkB,KAAlB,AAAuB,AACxB;AAJD,aAKK,IAAI,CAAA,AAAC,YAAY,CAAC,KAAlB,AAAuB,mBAAkB,AAC5C;eAAA,AAAO,YAAP,AAAmB,aAAnB,AAA+B,AAChC;AAED;;UAAA,AAAI,UAAS,AACX;eAAA,AAAO,cAAc,OAArB,AAA4B,AAC7B;AAED;;AACA;UAAI,aAAJ,AAAiB,MAAK,AACpB;eAAA,AAAO,KAAP,AAAY,SAAZ,AAAqB,IAAI,OAAA,AAAO,KAAP,AAAY,SAAZ,AAAqB,IAArB,AAAwB,MAAM,MAAvD,AAA6D,AAC9D;AAED;;AACA;UAAI,KAAA,AAAK,SAAS,KAAA,AAAK,MAAnB,AAAyB,UAAU,KAAA,AAAK,IAAI,KAAA,AAAK,MAAL,AAAW,OAAX,AAAkB,IAAE,KAAA,AAAK,MAAL,AAAW,OAA/E,AAAsF,QAAO,AAC3F;aAAA,AAAK,AACN;AAED;;WAAA,AAAK,oBAAL,AAAyB,AAE1B;;;;sC,AAEiB,GAAE,AAClB;WAAA,AAAK,KAAL,AAAU,IAAI,EAAA,AAAE,IAAE,EAAA,AAAE,OAApB,AAAyB,AACzB;WAAA,AAAK,KAAL,AAAU,IAAI,EAAd,AAAgB,AAChB;WAAA,AAAK,KAAL,AAAU,SAAV,AAAmB,IAAnB,AAAuB,AACvB;WAAA,AAAK,KAAL,AAAU,SAAV,AAAmB,IAAnB,AAAuB,AACxB;;;;4B,AAEO,G,AAAE,GAAE,AACV;WAAA,AAAK,KAAL,AAAU,IAAV,AAAY,AACZ;WAAA,AAAK,KAAL,AAAU,IAAV,AAAY,AACZ;WAAA,AAAK,KAAL,AAAU,SAAV,AAAmB,IAAnB,AAAuB,AACvB;WAAA,AAAK,KAAL,AAAU,SAAV,AAAmB,IAAnB,AAAuB,AAEvB;;UAAI,KAAA,AAAK,KAAT,AAAc,aAAY,AACxB;gBAAA,AAAQ,IAAR,AAAY,AACZ;aAAA,AAAK,KAAL,AAAU,YAAV,AAAsB,SAAtB,AAA+B,AAChC;AAHD,aAGK,AACH;gBAAA,AAAQ,IAAR,AAAY,AACZ;aAAA,AAAK,KAAL,AAAU,MAAV,AAAgB,SAAhB,AAAyB,AAC1B;AACF;;;;8BAEQ,AACP;AACA;UAAI,KAAK,KAAA,AAAK,kBAAiB,EAAC,GAAD,AAAG,GAAE,GAApC,AAA+B,AAAO,AACtC;WAAA,AAAK,QAAQ,GAAb,AAAgB,GAAE,GAAlB,AAAqB,AACtB;;;;6BAEO,AACN;WAAA,AAAK,KAAL,AAAU,MAAV,AAAgB,OAAhB,AAAuB,AACxB;;;;;EA/IkB,O,AAAO;;AAkJ5B,SAAA,AAAS,aAAT,AAAsB,SAAS,AAC7B;MAAI,QAAQ,GAAA,AAAG,KAAH,AAAQ,WAAR,AAAmB,GAA/B,AAAY,AAAsB,AAClC;MAAI,SAAJ,AAAa,AACb;OAAK,IAAI,IAAT,AAAa,GAAG,IAAI,KAAA,AAAK,QAAL,AAAa,GAAb,AAAgB,MAAhB,AAAsB,YAAtB,AAAkC,iBAAtD,AAAuE,QAAvE,AAA+E;QACzE,IAAI,KAAA,AAAK,QAAL,AAAa,GAAb,AAAgB,MAAhB,AAAsB,YAAtB,AAAkC,iBADwC,AAClF,AAAQ,AAAmD,GADuB,AAClF,CAAgE,AAChE;QAAI,EAAA,AAAE,UAAU,QAAA,AAAQ,KAApB,AAAyB,QAAQ,EAAA,AAAE,UAAU,QAAA,AAAQ,KAAzD,AAA8D;UACxD,IAAI,GAAA,AAAG,KAAH,AAAQ,IAAI,EAAZ,AAAc,SADmD,AACzE,AAAQ,AAAuB,OAD0C,AACzE,CAAuC,AACvC;UAAI,EAAA,AAAE,UAAU,QAAA,AAAQ,KAAxB,AAA6B,MAAM,KAAK,CAAL,AAAM,AACzC;UAAI,IAAJ,AAAQ,KAAK,SAAA,AAAS,AACvB;AACF;AAAC,UAAA,AAAO,AACV;;;kB,AAEc;;;;;;;;;AC9Jf;;;;;;;;;;;;;;;;;;;;;;;;EADA;;;I,AAGM;6BAEJ;;2BAAA,AAAY,GAAZ,AAAc,GAAd,AAAgB,GAAhB,AAAkB,GAAE;0BAAA;;kIAAA,AACZ,GADY,AACV,GADU,AACR,GADQ,AACN,AAEZ;;QAAI,IAAJ,AAAQ,AACR;QAAI,YAAY,MAAA,AAAK,SAArB,AAA8B,AAC9B;QAAI,IAAI,OAAA,AAAO,KAAf,AAAQ,AAAY,AACpB;SAAK,IAAI,IAAT,AAAa,GAAG,IAAI,EAApB,AAAsB,QAAtB,AAA8B,KAAK,AACjC;QAAE,EAAF,AAAE,AAAE,MAAM,UAAU,EAApB,AAAU,AAAU,AAAE,AACvB;AACD;MAAA,AAAE,OAAF,AAAS,AAET;;UAAA,AAAK,SAAL,AAAc,SAXI,AAWlB,AAAuB;WACxB;;;;;;kB,AAIY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;I,ACrBT;wBAEL;;sBAAA,AAAY,MAAZ,AAAkB,GAAlB,AAAqB,GAArB,AAAwB;wBAAM;;wHAAA,AAEvB,MAFuB,AAEjB,GAFiB,AAEd,GAFc,AAEX,MAAM,EAAE,MAAF,AAAQ,aAAa,MAArB,AAA2B,WAAW,OAFjC,AAEL,AAA6C,AAErE;;QAAA,AAAK,SAJwB,AAI7B,AAAc,IAJe,CAIV,AACnB;QAAA,AAAK,cAAL,AAAmB,AACnB;QAAA,AAAK,UAAU,CAAA,AAAC,WAAD,AAAY,WAAZ,AAAuB,WAAvB,AAAkC,WAAjD,AAAe,AAA6C,AAE5D;;AACA;QAAA,AAAK,AAEL;;QAAA,AAAK,KAAL,AAAU,MAAV,AAAgB,SAXa;;SAa7B;;;;;+BAEY,AACZ;AACA;;;;6BAEU,AAEV;;QAAK,IAAI,IAAT,AAAa,GAAG,IAAI,KAAA,AAAK,KAAzB,AAA8B,QAA9B,AAAsC,KAAK,AAE1C;;QAAI,KAAA,AAAK,gBAAgB,KAAA,AAAK,QAA9B,AAAsC,QAAQ,AAC7C;UAAA,AAAK,cAAL,AAAmB,AACnB;AAED;;SAAA,AAAK,SAAS,KAAA,AAAK,QAAQ,KAA3B,AAAc,AAAkB,cAAhC,AAA8C,AAC9C;SAAA,AAAK,AAEL;AAED;;;;;EAlCwB,O,AAAO;;kB,AAsClB;;;;;;;;;;;;;;;;;;;ACtCf;;;;;;;;;;;;;;;;;;;;;;;;;;I,AAEM;kBACJ;;gBAAA,AAAY,MAAZ,AAAiB,GAAjB,AAAmB,GAAE;0BAAA;;4GAAA,AACb,MADa,AACR,GADQ,AACN,GADM,AACJ,MADI,AACC,AACpB;;UAAA,AAAK,cAAL,AAAmB,AACnB;UAAA,AAAK,QAAL,AAAa,AACb;SAAA,AAAK,MAAL,AAAW,SAJQ;WAKpB;;;;;4B,AAEO,GAAE,AACR;WAAA,AAAK,MAAL,AAAW,KAAX,AAAgB,AACjB;;;;6BAEO,AACN;AACA;UAAI,KAAA,AAAK,MAAL,AAAW,UAAU,KAArB,AAA0B,eAAe,OAAA,AAAO,MAAP,AAAa,SAAb,AAAsB,MAAK,KAA3B,AAAgC,UAA7E,AAAuF,IAAG,AACxF;AACA;aAAA,AAAK,MAAL,AAAW,MAAX,AAAiB,AACjB;gBAAA,AAAQ,IAAR,AAAY,AACb;AACF;;;;;EAnBgB,O,AAAO;;kB,AAsBX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;I,ACxBT;iBACJ;;eAAA,AAAY,MAAZ,AAAiB,QAAO;0BAAA;;0GAAA,AAChB,MADgB,AACV,QADU,AACF,AAEpB;;UAAA,AAAK,OAAL,AAAY,AACZ;UAAA,AAAK,aAAa,IAAI,OAAJ,AAAW,WAAW,MAAtB,AAA2B,MAA3B,AAAiC,GAAjC,AAAoC,GAApC,AAAuC,KAAvC,AAA4C,KAA9D,AAAkB,AAAiD,AACnE;UAAA,AAAK,WAAL,AAAgB,gBAAhB,AAAgC,AAEhC;;UAAA,AAAK,SAAS,MAPQ,AAOtB,AAAmB;;WAEpB;;;;;6BAEO,AACN;WAAA,AAAK,WAAL,AAAgB,OAAhB,AAAuB,MAAO,KAAA,AAAK,OAAL,AAAY,KAAG,MAAhB,AAAC,AAAmB,KAAjD,AAAqD,KAAK,KAAA,AAAK,OAAL,AAAY,IAAb,AAAe,OAAxE,AAA8E,AAC/E;;;;;EAde,O,AAAO;;kB,AAoBV;;;;;;;;;;;;;;;;;;;ACpBf;;;;;;;;;;;;;;;;;;;;;;;;;;I,AAEM;uBACJ;;qBAAA,AAAY,GAAZ,AAAc,GAAd,AAAgB,KAAI;0BAAA;;sHAAA,AACZ,MAAM,KADM,AACD,OADC,AACM,AACxB;;UAAA,AAAK,MAAM,OAAX,AAAgB,AAChB;UAAA,AAAK,IAAL,AAAO,AACP;UAAA,AAAK,IAAL,AAAO,AAEP;;QAAI,QANc,AAMlB,AAAY,8BAA4B,AACxC;UAAA,AAAK,YAAY,IAAI,OAAJ,AAAW,UAAX,AAAqB,MAArB,AAA2B,aAA3B,AAAwC,GAAxC,AAA2C,GAA3C,AAA8C,OAA/D,AAAiB,AAAqD,AAEtE;;UAAA,AAAK,MAAM,IAAI,OAAJ,AAAW,OAAX,AAAkB,MAAlB,AAAuB,GAAvB,AAAyB,GAApC,AAAW,AAA2B,AACtC;UAAA,AAAK,SAAS,MAAd,AAAmB,AAEnB;;UAAA,AAAK,cAAc,IAAI,OAAJ,AAAW,MAAX,AAAiB,MAAjB,AAAsB,GAAzC,AAAmB,AAAwB,AAC3C;UAAA,AAAK,YAAL,AAAiB,OAAjB,AAAwB,IAAxB,AAA4B,KAA5B,AAAiC,AACjC;UAAA,AAAK,SAAS,MAAd,AAAmB,AAErB;;UAAA,AAAK,WAAW,0BAAgB,MAAhB,AAAqB,MAArB,AAA2B,GAA3B,AAA8B,GAAG,MAAjD,AAAgB,AAAsC,AACpD;UAAA,AAAK,SAAS,MAAd,AAAmB,AAEnB;;UAAA,AAAK,WAAW,MAnBE,AAmBlB,AAAqB;WACtB;;;;;+B,AAEU,KAAI,AACb;WAAA,AAAK,MAAL,AAAW,AACX;WAAA,AAAK,UAAL,AAAe,OAAf,AAAsB,AACtB;WAAA,AAAK,SAAL,AAAc,OAAd,AAAqB,AACrB;WAAA,AAAK,UAAL,AAAe,SAAS,KAAxB,AAA6B,AAC9B;;;;yB,AAEI,KAAI,AACP;UAAI,OAAA,AAAO,OAAX,AAAkB,UAAS,AAAC;aAAA,AAAK,WAAL,AAAgB,AAAK;AACjD;WAAA,AAAK,MAAL,AAAW,SAAX,AAAoB,AACpB;WAAA,AAAK,MAAL,AAAW,KAAX,AAAgB,AACjB;;;;yC,AAEoB,K,AAAI,cAAa,AACpC;WAAA,AAAK,KAAL,AAAU,AACV;UAAI,OAAJ,AAAW,AAEX;;WAAA,AAAK,SAAL,AAAc,AACd;WAAA,AAAK,MAAL,AAAW,OAAX,AAAkB,AAElB;;UAAI,QAAI,AAAI,QAAQ,UAAA,AAAS,SAAT,AAAiB,QAAO,AAE1C;;eAAA,AAAO,iBAAP,AAAwB,WAAU,UAAA,AAAS,GAAE,AAC3C;cAAI,EAAA,AAAE,OAAN,AAAa,SAAQ,AACnB;mBAAA,AAAO,oBAAP,AAA2B,WAA3B,AAAqC,AACrC;iBAAA,AAAK,SAAL,AAAc,AACd;uBAAA,AAAW,SAAX,AAAmB,AACnB;gBAAA,AAAI,cAAa,AAAC;mBAAA,AAAK,AAAU;AAClC;AACF;AAPD,AASD;AAXD,AAAQ,AAaR,OAbQ;;aAaR,AAAO,AACR;;;;2BAEK,AACJ;WAAA,AAAK,MAAL,AAAW,OAAX,AAAkB,AACnB;;;;;EA7DqB,O,AAAO;;kB,AAkEhB;;;;;;;;;;;;;;;;;;;ACpEf;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;I,AAEM;;;;;;;;;;;4BAEI,AAER;;AACE;QAAA,AAAK,KAAL,AAAU,QAAV,AAAkB,SAAlB,AAA2B,mBAA3B,AAA8C,MAAM,OAAA,AAAO,QAA3D,AAAmE,AACrE;QAAA,AAAK,KAAL,AAAU,MAAV,AAAgB,eAAhB,AAA+B,AAC/B;QAAA,AAAK,KAAL,AAAU,MAAV,AAAgB,cAAhB,AAA8B,AAG9B;;OAAI,SAAS,EAAE,GAAG,KAAA,AAAK,KAAL,AAAU,MAAf,AAAqB,SAAS,GAAG,KAAA,AAAK,KAAL,AAAU,MAAxD,AAAa,AAAiD,AAC9D;QAAA,AAAK,OAAO,0BAAgB,KAAhB,AAAqB,MAAM,OAA3B,AAAkC,GAAG,OAArC,AAA4C,GAAxD,AAAY,AAA+C,AAC3D;QAAA,AAAK,KAAL,AAAU,OAAV,AAAiB,IAAjB,AAAqB,AAErB;;IAAA,AAAC,WAAD,AAAW,WAAX,AAAqB,WAArB,AAA+B,iBAA/B,AAA+C,MAA/C,AAAoD,WAApD,AAA8D,aAA9D,AAA2E,QAAQ,UAAA,AAAS,MAAK,AAChG;SAAA,AAAK,KAAL,AAAU,MAAV,AAAgB,MAAM,SAAA,AAAO,OAA7B,AAAkC,AAClC;AAFD,AAKA;;IAAA,AAAC,OAAD,AAAO,OAAP,AAAa,SAAb,AAAqB,QAArB,AAA4B,UAA5B,AAAqC,UAArC,AAA8C,cAA9C,AAA2D,WAA3D,AAAsE,QAAQ,UAAA,AAAS,MAAK,AAC3F;SAAA,AAAK,KAAL,AAAU,MAAV,AAAgB,MAAM,YAAA,AAAU,OAAhC,AAAqC,AACrC;AAFD,AAIA;;QAAA,AAAK,KAAL,AAAU,YAAV,AAAsB,aAAtB,AAAmC,2BAAnC,AAA6D,IAA7D,AAAgE,AAChE;QAAA,AAAK,KAAL,AAAU,YAAV,AAAsB,YAAtB,AAAkC,oBAAlC,AAAqD,IAArD,AAAwD,AACxD;QAAA,AAAK,KAAL,AAAU,YAAV,AAAsB,cAAtB,AAAoC,sBAApC,AAAyD,IAAzD,AAA4D,AAE1D;;WAAA,AAAQ,IAAR,AAAY,AACd;QAAA,AAAK,KAAL,AAAU,eAAV,AAAyB,IAAI,KAA7B,AAAkC,cAAlC,AAA+C,AAC/C;QAAA,AAAK,KAAL,AAAU,eAAV,AAAyB,IAAI,KAA7B,AAAkC,cAAlC,AAA+C,AAG/C;;;;iCAEa,AACb;QAAA,AAAK,KAAL,AAAU,OAAV,AAAiB,AACjB;QAAA,AAAK,QAAQ,KAAA,AAAK,MAAL,AAAW,SAAX,AAAoB,OAAO,OAAA,AAAO,SAA/C,AAAa,AAA2C,AACxD;OAAI,OAAJ,AAAW,OAAM,AAAC;SAAA,AAAK,AAAY;AACnC;;;;+B,AAEY,UAAS,AACrB;QAAA,AAAK,KAAL,AAAU,OAAO,KAAA,AAAK,MAAL,AAAW,YAA5B,AAAsC,AACtC;;;;2BAEO,AACP;OAAI,KAAA,AAAK,SAAS,KAAA,AAAK,MAAvB,AAA6B,QAAO,AACnC;SAAA,AAAK,AACL;AACD;;;;6BAES,AACT;QAAA,AAAK,KAAL,AAAU,AACV;AACA;QAAA,AAAK,MAAL,AAAW,MAAX,AAAiB,AACjB;;;;;EAtDyB,O,AAAO;;kB,AA0DnB;;;;;;;;;;;;;;;;;;;AC7Df;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;I,AAEM;;;;;;;;;;;6BAEI,AAER;;UAAI,SAAS,EAAE,GAAG,KAAA,AAAK,KAAL,AAAU,MAAf,AAAqB,SAAS,GAAG,KAAA,AAAK,KAAL,AAAU,MAAxD,AAAa,AAAiD,AAC9D;WAAA,AAAK,KAAL,AAAU,MAAV,AAAgB,kBAAhB,AAAkC,AAClC;UAAI,OAAJ,AAAW,AAEX;;AACA;WAAA,AAAK,MAAM,kBAAQ,KAAR,AAAa,MAAK,KAAA,AAAK,KAAlC,AAAW,AAA4B,AACvC;WAAA,AAAK,MAAL,AAAW,SAAS,KAApB,AAAyB,AAEzB;;AAEA;;UAAI,MAAM,KAAA,AAAK,MAAM,OAAA,AAAO,MAAM,KAAA,AAAK,KAAL,AAAU,IAAV,AAAc,QAAhD,AAAkC,AAAsB,AACxD;UAAA,AAAI,gBAAJ,AAAoB,SAApB,AAA4B,AAC5B;UAAA,AAAI,gBAAJ,AAAoB,cAApB,AAAiC,AAEjC;;WAAA,AAAK,QAAL,AAAa,YAAY,OAAA,AAAO,QAAhC,AAAwC,AACxC;AACA;WAAA,AAAK,KAAL,AAAU,QAAV,AAAkB,GAAlB,AAAqB,wBAAwB,KAAA,AAAK,KAAL,AAAU,QAAV,AAAkB,GAAlB,AAAqB,gBAAlE,AAA6C,AAAqC,AAGlF;;WAAA,AAAK,eAAL,AAAoB,AACpB;AACA;UAAA,AAAI,OAAJ,AAAW,QAAQ,UAAA,AAAS,GAAE,AAC7B;YAAI,QAAQ,IAAA,AAAI,YAAY,EAA5B,AAAY,AAAkB,AAC9B;YAAI,EAAA,AAAE,QAAN,AAAc,YAAW,AACxB;eAAA,AAAK,eAAL,AAAoB,AACpB;gBAAA,AAAM,QAAN,AAAY,AACZ;gBAAA,AAAM,AACN;AACA;eAAA,AAAK,YAAY,KAAA,AAAK,IAAtB,AAAiB,AAAS,AAC1B;eAAA,AAAK,gBAAgB,KAAA,AAAK,IAA1B,AAAqB,AAAS,AAC9B;eAAA,AAAK,cAAc,KAAA,AAAK,IAAxB,AAAmB,AAAS,AAC5B;AARD,eAQM,IAAI,EAAA,AAAE,QAAN,AAAc,WAAU,AAC5B;eAAA,AAAK,cAAL,AAAmB,AACpB;AAED;AAdD,AAgBA;;AAEA;;WAAA,AAAK,aAAa,0BAAlB,AAAkB,AAAgB,AAClC;WAAA,AAAK,WAAL,AAAgB,QAAhB,AAAwB,AACxB;WAAA,AAAK,WAAL,AAAgB,QAAhB,AAAwB,AACxB;WAAA,AAAK,WAAL,AAAgB,OAAhB,AAAuB,AACvB;WAAA,AAAK,MAAL,AAAW,UAAU,CAAC,KAAtB,AAAqB,AAAM,AAE3B;;AAEA;;AACA;WAAA,AAAK,sBAAsB,KAAA,AAAK,QAAL,AAAa,GAAxC,AAA2B,AAAgB,AAC3C;WAAA,AAAK,uBAAuB,KAAA,AAAK,QAAL,AAAa,GAAzC,AAA4B,AAAgB,AAC5C;WAAA,AAAK,oBAAoB,KAAA,AAAK,QAAL,AAAa,GAAtC,AAAyB,AAAgB,AAEzC;;AACA;UAAA,AAAI,wBAAJ,AAA4B,IAA5B,AAAgC,MAAhC,AAAsC,YAAtC,AAAkD,AAElD;;WAAA,AAAK,kBAAkB,KAAA,AAAK,QAAL,AAAa,GAAb,AAAgB,eAAhB,AAA+B,KAAK,KAA3D,AAAuB,AAAyC,AAChE;WAAA,AAAK,oBAAoB,KAAA,AAAK,QAAL,AAAa,GAAb,AAAgB,eAAhB,AAA+B,KAAK,KAA7D,AAAyB,AAAyC,AAClE;WAAA,AAAK,qBAAqB,KAAA,AAAK,QAAL,AAAa,GAAb,AAAgB,wBAAhB,AAAwC,KA3D1D,AA2DR,AAA0B,AAA4C,eAAiB,AAEvF;;AACA;UAAA,AAAI,QAAJ,AAAY,YAAZ,AAAwB,QAAQ,UAAA,AAAS,IAAG,AAC3C;YAAI,UAAU,yBAAA,AAAe,MAA7B,AAAc,AAAoB,AAClC;AAFD,AAIA;;AACA;UAAA,AAAI,QAAJ,AAAY,MAAZ,AAAkB,QAAQ,UAAA,AAAS,IAAG,AACrC;YAAI,OAAO,mBAAA,AAAS,MAApB,AAAW,AAAc,AACzB;AAFD,AAIA;;UAAA,AAAI,QAAJ,AAAY,UAAZ,AAAsB,QAAQ,UAAA,AAAS,IAAG,AACzC;YAAI,WAAW,uBAAA,AAAa,MAAb,AAAkB,GAAjC,AAAe,AAAoB,AACnC;iBAAA,AAAS,QAAQ,GAAjB,AAAoB,GAAE,GAAtB,AAAyB,AACzB;YAAI,GAAA,AAAG,WAAP,AAAkB,aAAY,AAC7B;mBAAA,AAAS,cAAc,GAAA,AAAG,WAAH,AAAc,YAAd,AAA0B,MAAjD,AAAuB,AAAgC,AACvD;AACD;AAND,AASA;;WAAA,AAAK,mBAAL,AAAwB,QAAxB,AAAgC,AAChC;WAAA,AAAK,gBAAL,AAAqB,QAArB,AAA6B,AAC7B;WAAA,AAAK,kBAAL,AAAuB,QAAvB,AAA+B,AAE/B;;eAAA,AAAS,uBAAT,AAAgC,GAAE,AACjC;UAAA,AAAE,kBAAkB,KAApB,AAAyB,AACzB;UAAA,AAAE,SAAS,CAAC,KAAD,AAAM,sBAAqB,KAA3B,AAAgC,mBAAkB,KAA7D,AAAW,AAAuD,AAClE;AAED;;AAEA;;AACA;WAAA,AAAK,SAAS,qBAAW,KAAX,AAAgB,MAAhB,AAAqB,GAAnC,AAAc,AAAuB,AACrC;WAAA,AAAK,SAAS,KAAd,AAAmB,AACnB;WAAA,AAAK,OAAL,AAAY,OAAO,KAAnB,AAAwB,AACxB;WAAA,AAAK,OAAL,AAAY,WAAW,IAAI,OAAJ,AAAW,UAAU,MAAA,AAAI,IAAzB,AAA2B,IAAG,MAAA,AAAI,IAAlC,AAAoC,IAApC,AAAuC,IAA9D,AAAuB,AAA0C,AACjE;WAAA,AAAK,QAAL,AAAa,GAAb,AAAgB,QAAhB,AAAwB,IAAxB,AAA4B,AAG5B;;AAEA;;UAAI,UAAJ,AAAc,AAEd;;UAAA,AAAI,QAAJ,AAAY,SAAZ,AAAqB,QAAQ,UAAA,AAAS,GAAE,AACvC;YAAI,EAAA,AAAE,QAAN,AAAc,SAAQ,AACrB;eAAA,AAAK,OAAL,AAAY,QAAQ,EAApB,AAAsB,GAAE,EAAxB,AAA0B,AAC1B;oBAAA,AAAU,AACV;AACD;AALD,AAMA;UAAI,CAAJ,AAAK,SAAQ,AACZ;gBAAA,AAAQ,KAAR,AAAa,AACb;aAAA,AAAK,OAAL,AAAY,QAAZ,AAAoB,GAApB,AAAsB,AACtB;AAED;;AACC;UAAI,IAAI,gCAAA,AAAsB,cAAc,CAAA,AAC1C,eAD0C,AAE1C,sBAF0C,AAG1C,gDAH0C,AAI1C,oDAJF,AAAQ,AAAoC,AAK1C,AAIH;;AACA;UAAI,CAAC,OAAL,AAAY,OAAM,AACjB;aAAA,AAAK,QAAQ,KAAA,AAAK,IAAL,AAAS,MAAtB,AAAa,AAAe,AAC5B;aAAA,AAAK,MAAL,AAAW,AACX;AAED;;AACA;WAAA,AAAK,OAAO,KAAA,AAAK,OAAO,mBAAA,AAAS,MAAT,AAAc,KAAtC,AAAwB,AAAkB,AAE1C;;;;6BAEO,AACP;AACA;WAAA,AAAK,WAAL,AAAgB,OAAO,KAAA,AAAK,IAAI,KAAA,AAAK,IAAO,KAAA,AAAK,OAAL,AAAY,IAAE,KAAA,AAAK,OAAL,AAAY,OAAtC,AAA6C,QAAtD,AAAS,AAAuD,MAAvF,AAAuB,AAAqE,AAC5F;;;;;EA5IyB,O,AAAO;;kB,AAoJnB;;;;;;;;;;;;;;;;;;;AChKf;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;I,AAEM;;;;;;;;;;;iCAEG,AACL;gBAAI,SAAS,EAAE,GAAG,KAAA,AAAK,KAAL,AAAU,MAAf,AAAqB,SAAS,GAAG,KAAA,AAAK,KAAL,AAAU,MAAxD,AAAa,AAAiD,AAE9D;;gBAAI,IAAI,yFAAA,AAKV,MALE,AAAQ,AAKJ,AACJ;AAEA;;gBAAI,MAAM,qBAAV,AACA;gBAAA,AAAI,cAAJ,AAAkB,AAEpB;;;;;EAhByB,O,AAAO;;kB,AAqBnB",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "class FullscreenController{\r\n  constructor(game){\r\n    this.game = game;\r\n\r\n    //add element\r\n    this.el = document.createElement('span');\r\n    this.el.classList.add(\"fullscreen-button\");\r\n\r\n    let text = document.createElement('span');\r\n    text.textContent=\"Go Fullscreen\";\r\n    this.el.appendChild(text);\r\n\r\n    let svg = document.createElementNS(\"http://www.w3.org/2000/svg\",'svg');\r\n    svg.setAttribute(\"width\", \"30px\");\r\n    svg.setAttribute(\"height\", \"30px\");\r\n    svg.setAttribute('viewBox',\"0 0 50 50\")\r\n    svg.setAttribute(\"version\", \"1.1\");\r\n    svg.innerHTML = `\r\n    <polygon points=\"0 0 30 0 0 30 0 0\" />\r\n    <polygon points=\"50 50 20 50 50 20 50 50\" />\r\n    `;\r\n    this.el.appendChild(svg);\r\n\r\n    this.el.addEventListener('click',()=>this.gofull() );\r\n    document.getElementById('content-after').appendChild(this.el);\r\n\r\n  }\r\n\r\n\r\n  gofull() {\r\n    if (this.game.scale.isFullScreen){\r\n        this.game.scale.stopFullScreen();\r\n        this.game.canvas.classList.add('fullscreen');\r\n    }\r\n    else{\r\n        this.game.scale.fullScreenScaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n        this.game.scale.startFullScreen(false);\r\n        this.game.canvas.classList.remove('fullscreen');\r\n    }\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default FullscreenController;\r\n",
    "class LevelController{\r\n  constructor(game){\r\n    this.game = game;\r\n  }\r\n}\r\n\r\nexport default LevelController;\r\n",
    "import LoadingState from 'states/LoadingState';\r\nimport PlayingState from 'states/PlayingState';\r\nimport WonState from 'states/WonState';\r\n\r\nimport FullscreenController  from 'controllers/FullscreenController'\r\nimport LevelController from 'controllers/LevelController'\r\n\r\nclass Game extends Phaser.Game {\r\n\r\n\tconstructor() {\r\n\t\tvar config = {\r\n\t\t    width: 320,\r\n\t\t    height: 240,\r\n\t\t    renderer: Phaser.AUTO,\r\n\t\t    antialias: false,\r\n\t\t\t\tresolution:4,\r\n\t\t    multiTexture: true,\r\n\t\t\t\tparent:'content'\r\n\t\t}\r\n\t\tsuper(config);\r\n\t\tthis.fullscreenController = new FullscreenController(this);\r\n\r\n\t\tthis.state.add('LoadingState', LoadingState, false);\r\n\t\tthis.state.add('PlayingState', PlayingState, false);\r\n\t\tthis.state.add('WonState', WonState, false);\r\n\r\n\t\tthis.state.start('LoadingState');\r\n\r\n\t\t// debug when devtools open\r\n\t\twindow.debug = false;\r\n\t}\r\n\r\n}\r\n\r\nwindow.game = new Game();\r\n",
    "class Checkpoint extends Phaser.Sprite{\r\n\r\n  constructor(game,objData){\r\n    super(game,objData.x,objData.y-32,'checkpoint',0);\r\n\r\n    this.active = false;\r\n    this.game = game;\r\n    this.size = 32;\r\n\r\n    //animations\r\n    this.animations.add('spin', [0,1,2,3,4,3,2,1], 10, true);\r\n    this.animations.play('spin');\r\n    this.animations.currentAnim.paused = true;\r\n\r\n    if (!this.game.checkpoints){\r\n      this.game.checkpoints = [];\r\n    }\r\n\r\n    this.game.checkpoints.push(this);\r\n\r\n    // add to game immediately\r\n    if (this.game.itemGroup){\r\n      this.game.itemGroup.addChild(this);\r\n    }else{\r\n      this.game.world.addChild(this);\r\n    }\r\n  }\r\n\r\n  update(){\r\n    if (game.lastCheckpoint !== this && game.player && Phaser.Point.distance(this,game.player) < 32){\r\n      var self = this;\r\n\r\n      game.checkpoints.forEach(function(pt){\r\n        if (pt != self){\r\n          pt.active = false;\r\n          pt.animations.currentAnim.paused = true;\r\n        }\r\n      })\r\n\r\n      game.lastCheckpoint = this;\r\n\r\n      this.active = true;\r\n      this.animations.currentAnim.paused = false;\r\n      game.sound.play('checkpoint');\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default Checkpoint;\r\n",
    "class CurvyShader extends Phaser.Filter{\r\n  constructor(game){\r\n      super(game);\r\n\r\n      this.game = game;\r\n      this.uniforms.invert = { type: '1f', value: 0 };\r\n      this.uniforms.pixelSize = { type: '2f', value: { x: 1.0, y: 1.0 } };\r\n      this.uniforms.dimensions = { type: '2f', value: { x: 1000.0, y: 1000.0 } };\r\n\r\n      this.uniforms.warp = { type: '1f', value: 0 };\r\n      this.uniforms.offset = { type: '1f', value: 0 };\r\n\r\n      this.fragmentSrc = `\r\n\r\n          #define PI 3.14159\r\n          #define SQRT2 1.4142135623730951\r\n          precision mediump float;\r\n          varying vec2 vTextureCoord;\r\n          uniform vec2 dimensions;\r\n          uniform vec2 pixelSize;\r\n          uniform float offset;\r\n          uniform float warp;\r\n          uniform sampler2D uSampler;\r\n          void main(void){\r\n              // coords are 0..1.  Don't exceed that.\r\n              // zoom out the Y coords based on warp\r\n              float sc = warp*1./SQRT2;\r\n\r\n              vec2 zoomCoords = vec2(\r\n                 0.5+(vTextureCoord.x-0.5)*(1.0 - abs(sc)),\r\n                 0.5+(vTextureCoord.y-0.5)*(1.0 - abs(sc))\r\n               );\r\n              // now sample the middle up higher and outsides down lower\r\n              // TODO: determine the actual math for this\r\n\r\n              float moveUp = (0.9 -cos((vTextureCoord.x - 0.5) * PI/2.0 )) * warp ;\r\n              vec2 coord = zoomCoords + vec2(0.0,moveUp);\r\n              vec2 color =  coord ;\r\n              gl_FragColor = texture2D(uSampler, color);\r\n          }\r\n      `;\r\n\r\n  }\r\n\r\n}\r\n\r\n/**\r\n* An object with visible x and y properties that are used to define the size of the filter effect per pixel.\r\n*\r\n* @property size\r\n* @type Phaser.Point\r\n*/\r\nObject.defineProperty(CurvyShader.prototype, 'size', {\r\n    get: function() {\r\n\r\n        return this.uniforms.pixelSize.value;\r\n\r\n    },\r\n\r\n    set: function(value) {\r\n\r\n        this.dirty = true;\r\n        this.uniforms.pixelSize.value = value;\r\n\r\n    }\r\n});\r\n\r\n/**\r\n* A value that defines the horizontal size of the filter effect per pixel.\r\n*\r\n* @property sizeX\r\n* @type number\r\n*/\r\nObject.defineProperty(CurvyShader.prototype, 'sizeX', {\r\n    get: function() {\r\n        return this.uniforms.pixelSize.value.x;\r\n    },\r\n\r\n    set: function(value) {\r\n        this.dirty = true;\r\n        this.uniforms.pixelSize.value.x = value;\r\n    }\r\n});\r\n\r\n/**\r\n* A value that defines the vertical size of the filter effect per pixel.\r\n*\r\n* @property sizeY\r\n* @type number\r\n*/\r\nObject.defineProperty(CurvyShader.prototype, 'sizeY', {\r\n    get: function() {\r\n        return this.uniforms.pixelSize.value.y;\r\n    },\r\n    set: function(value) {\r\n        this.dirty = true;\r\n        this.uniforms.pixelSize.value.y = value;\r\n    }\r\n});\r\n\r\n/**\r\n* A value that defines the vertical size of the filter effect per pixel.\r\n*\r\n* @property sizeY\r\n* @type number\r\n*/\r\nObject.defineProperty(CurvyShader.prototype, 'warp', {\r\n    get: function() {\r\n        return this.uniforms.warp.value;\r\n    },\r\n    set: function(value) {\r\n        this.dirty = true;\r\n        this.uniforms.warp.value = value;\r\n    }\r\n});\r\n\r\n/**\r\n* A value that defines the vertical size of the filter effect per pixel.\r\n*\r\n* @property sizeY\r\n* @type number\r\n*/\r\nObject.defineProperty(CurvyShader.prototype, 'offset', {\r\n    get: function() {\r\n        return this.uniforms.offset.value;\r\n    },\r\n    set: function(value) {\r\n        this.dirty = true;\r\n        this.uniforms.offset.value = value;\r\n    }\r\n});\r\n\r\n\r\n\r\n\r\n\r\nexport default CurvyShader;\r\n",
    "import SpeechBox from 'objects/SpeechBox';\r\n\r\nclass FixedSpeechBox extends SpeechBox{\r\n  constructor(x,y,str){\r\n    // fit to center\r\n    super(x,y,str);\r\n    this.fixedToCamera = true;\r\n    this.todoText.x = 640/4 - 64;\r\n    this.todoText.y = 480/4 - 64;\r\n    this.todoText.anchor.set(0.5);\r\n\r\n    this.cameraOffset.set(64,64)\r\n  }\r\n\r\n  alert (str,hideAfter){\r\n    var hideAfter = hideAfter;\r\n    if (typeof hideAfter == 'undefined'){\r\n      hideAfter = true;\r\n    }\r\n    return this.showUntilButtonPress(str,hideAfter)\r\n  }\r\n\r\n  alertSequence(strs){\r\n    var self = this;\r\n\r\n    if (typeof strs == 'string'){return this.alert(strs)}\r\n\r\n    // http://stackoverflow.com/questions/29880715/how-to-synchronize-a-sequence-of-promises\r\n\r\n    var index = 0;\r\n    function next() {\r\n      if (index < strs.length) {\r\n        self.alert(strs[index++],false).then(next);\r\n      }else{//end\r\n        self.destroy();\r\n      }\r\n    }\r\n    next();\r\n\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default FixedSpeechBox;\r\nwindow.FixedSpeechBox = FixedSpeechBox;\r\n",
    "import FixedSpeechBox from 'objects/FixedSpeechBox';\r\n\r\nclass Follower extends Phaser.Sprite{\r\n\r\n  constructor(game,key){\r\n    super(game,0,0,key||'follower',0);\r\n    this.key = key||'follower';\r\n    this.game = game;\r\n    this.autoFollow = true;\r\n    this.item = null;\r\n\r\n    // home position\r\n    this.shipPosition = {x:100,y:200};\r\n\r\n    //animations\r\n    this.animations.add('walk', [4,0,5,0], 10, true);\r\n    this.animations.add('idle', [0,0,0,0,0,0,0,3,0,0,0,0,0,0,1,2,1,2,0,0,0,0,0,0,0,0,3], 10, true);\r\n\r\n    // settings\r\n    this.speed=150;\r\n    this.jumpSpeed = 200;\r\n    this.mass = .01;\r\n    this.size = 18;\r\n    this.bodyY = 2;\r\n    this.maxDistance = 300;\r\n    this.stopDistance = 64;\r\n    this.followOffset = 32;\r\n\r\n    // physics stuffs\r\n    game.physics.p2.enable(this);\r\n    this.body.mass = this.mass;\r\n    this.anchor.setTo(0.5,0.5); // set the anchor to the exact middle of the player (good for flipping the image on the same place)\r\n    this.body.setCircle(this.size,0,0);\r\n    this.body.offset.set(0,this.bodyY)\r\n    this.body.fixedRotation=true;\r\n\r\n    // create cursors\r\n    this.cursors = this.game.input.keyboard.createCursorKeys();\r\n\r\n\t\tthis.body.setCollisionGroup(game.npcCollisionGroup);\r\n\t\tthis.body.collides([game.worldCollisionGroup,game.physics.p2.boundsCollisionGroup]);\r\n    this.animations.play('idle');\r\n\r\n  }\r\n\r\n  follow(target){\r\n    this.target = target;\r\n    target.followers = target.followers || [];\r\n    target.followers.push(this);\r\n    this.stopDistance += this.followOffset*(target.followers.length-1);\r\n    this.maxDistance += this.followOffset*(target.followers.length-1);\r\n  }\r\n\r\n\r\n\r\n  update(){\r\n\r\n  if (this.item){\r\n    this.item.x = this.x;\r\n    this.item.y = this.y-16;\r\n  }\r\n\r\n\r\n  // follow the player if we found him\r\n  if ( !this.item && this.autoFollow && !this.target && game.player && Phaser.Point.distance(this.body,game.player) < 32){\r\n    this.follow(game.player);\r\n    game.sound.play('hello');\r\n    if (this.sayOnFollow){\r\n      new FixedSpeechBox().alertSequence(this.sayOnFollow);\r\n    }\r\n  }\r\n\r\n  if (this.target){\r\n      var d = Phaser.Point.distance(this.target.position,this.body);\r\n      var dx = Math.abs(this.target.x - this.body.x);\r\n\r\n      if ( d < this.stopDistance || dx < this.stopDistance){ /// close enough, slow down\r\n        this.body.velocity.x = this.body.velocity.x * 0.9;\r\n      }\r\n\r\n      // teleport to above player if too far away\r\n      else if (d > this.maxDistance){\r\n        this.body.x = this.target.x;\r\n        this.body.y = this.target.y - this.target.size*3;\r\n        return;\r\n      }\r\n\r\n      else{\r\n        // move to player organically\r\n        if (this.target.x < this.position.x ){   //  Move to the left\r\n          this.body.velocity.x = -1*this.speed;\r\n          this.animations.play('walk');\r\n        }\r\n        else {//  Move to the right\r\n          this.body.velocity.x = this.speed;\r\n        }\r\n\r\n      }\r\n\r\n\r\n    }else{\r\n      // no target\r\n      // stand still\r\n      this.body.velocity.x = this.body.velocity.x * 0.9;\r\n    }\r\n\r\n      // now pick animation\r\n      if (this.body.velocity.x  > this.speed * 0.5){\r\n        this.scale.x = 1;\r\n        this.animations.play('walk');\r\n      }else if (this.body.velocity.x < this.speed * -0.5){\r\n        this.scale.x = -1;\r\n        this.animations.play('walk');\r\n      }else{\r\n        this.animations.play('idle');\r\n      }\r\n\r\n\r\n  }\r\n\r\n  spawnTo(x,y){\r\n    this.body.x=x;\r\n    this.body.y=y;\r\n    this.body.velocity.x = 0;\r\n    this.body.velocity.y = 0;\r\n\r\n    if (this.game.followerGroup){\r\n      console.log('add to follower group');\r\n      this.game.followerGroup.addChild(this);\r\n    }else{\r\n      console.log('no follower group');\r\n      this.game.world.addChild(this);\r\n    }\r\n  }\r\n\r\n  giveItem(i){\r\n    this.item = i;\r\n    // find and remove this from the players followers\r\n    var idx = game.player.followers.indexOf(this);\r\n    if (idx > -1) {\r\n      game.player.followers.splice(idx, 1);\r\n    }else{console.log('!!!!!')}\r\n\r\n    game.ship.addItem(i);\r\n\r\n    this.body.x=game.ship.x + game.ship.items.length*32;\r\n    this.body.y=game.ship.y;\r\n    this.body.velocity.x = 0;\r\n    this.body.velocity.y = 0;\r\n    this.target = null;\r\n\r\n    if (game.ship.items.length >= game.ship.itemsNeeded){\r\n      new FixedSpeechBox().alert(\"Hey owl guy!\\nYour ship is ready!\");\r\n    }else{\r\n      new FixedSpeechBox().alert(\"I'll take this \"+i.tilemapData.type+\"\\nto the ship for you!\");\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\nexport default Follower;\r\n",
    "import PlayerSpeechBox from 'objects/PlayerSpeechBox';\r\n\r\nclass Item extends Phaser.Sprite{\r\n\r\n  constructor(game,objData){\r\n    if (!objData.type){console.error(objData);throw new Error('you forgot a sprite name')}\r\n    super(game,objData.x,objData.y-48,objData.type,0);\r\n\r\n    this.tilemapData = objData;\r\n    this.pickedUp = false;\r\n\r\n    // add to game immediately\r\n    if (this.game.itemGroup){\r\n      this.game.itemGroup.addChild(this);\r\n    }else{\r\n      this.game.world.addChild(this);\r\n    }\r\n  }\r\n\r\n  update(){\r\n    if (!this.pickedUp && game.player && Phaser.Point.distance(this,game.player) < 32){\r\n      this.onPickup();\r\n    }\r\n  }\r\n\r\n  onPickup(){\r\n\r\n    // give jetpack to player\r\n    if (this.tilemapData.type && this.tilemapData.type == \"jetpack\"){\r\n      game.player.hasJetpack = true;\r\n      game.sound.play('pickup');\r\n      this.pickedUp = true;\r\n      this.destroy();\r\n      new PlayerSpeechBox().alert('I can take this myself.\\nNow I can finally fly \\n on this planet!');\r\n      return;\r\n    }\r\n\r\n    // pick up if there's a follower to give it to\r\n\r\n    if (game.player && game.player.followers && game.player.followers.length > 0){\r\n      this.pickedUp = true;\r\n      game.sound.play('pickup');\r\n      var follower = game.player.followers.pop();\r\n      follower.giveItem(this);\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\nexport default Item;\r\n",
    "class Player extends Phaser.Sprite{\r\n\r\n  constructor(game,key,frame){\r\n    super(game,0,0,'character',0);\r\n    this.game = game;\r\n\r\n    //animations\r\n    this.animations.add('walk', [2,3,4,5,6,7], 10, true);\r\n    this.animations.add('dig', [8,9,10,8,15,16], 10, true);\r\n    // 11 down, 12 blink, 13 look left, 14 look right\r\n    this.animations.add('idle', [0,0,0,11,0,0,0,11,0,12,0,11,0,0,0,11,0,0,0,11,13,13,13,11,0,0,0,11,14,14,14,11], 5, true);\r\n    this.animations.add('jet', [17,18], 10, true);\r\n\r\n    this.inventory = [];\r\n    this.touchingLastFrame = true;\r\n\r\n    // settings\r\n    this.speed=150;\r\n    this.jumpSpeed = 200;\r\n    this.mass = .01;\r\n    this.size = 14;\r\n    this.bodyY = -2;\r\n    this.maxJetpackFuel = 100;\r\n    this.jetpackFuel = this.maxJetpackFuel;\r\n\r\n    // physics stuffs\r\n    game.physics.p2.enable(this);\r\n\r\n    this.body.mass = this.mass;\r\n\t\tthis.anchor.setTo(0.5,0.5); // set the anchor to the exact middle of the player (good for flipping the image on the same place)\r\n\t\tthis.body.setCircle(this.size,0,0);\r\n    this.body.offset.set(0,this.bodyY)\r\n\t\tthis.body.fixedRotation=true;\r\n\r\n\t\tthis.body.setCollisionGroup(game.playerCollisionGroup);\r\n\t\tthis.body.collides([game.worldCollisionGroup,game.playerCollisionGroup,game.physics.p2.boundsCollisionGroup])\r\n\r\n\r\n    // create cursors\r\n    this.cursors = this.game.input.keyboard.createCursorKeys();\r\n\r\n  }\r\n\r\n  dig(){\r\n    // TODO\r\n  }\r\n\r\n  update(){\r\n    let cursors = this.cursors;\r\n    let player = this;\r\n    let touching = touchingDown(player)\r\n    let desiredX = null;\r\n    // update the player\r\n\r\n    if (cursors.down.isDown){\r\n      desiredX=0;\r\n      player.animations.play('dig');// dig!\r\n      player.dig();\r\n    }\r\n    else if (cursors.left.isDown ){   //  Move to the left\r\n            player.scale.x = -1;  // a little trick.. flips the image to the left\r\n            desiredX = -1*player.speed;\r\n            player.animations.play('walk');\r\n    }\r\n    else if (cursors.right.isDown) {//  Move to the right\r\n            player.scale.x = 1;\r\n            desiredX= player.speed;\r\n            player.animations.play('walk');\r\n    }\r\n    else {// pressing neither dir\r\n      if(touching){\r\n        desiredX=0;  // stop on the ground\r\n        player.animations.play('idle');\r\n      }\r\n\r\n    }\r\n\r\n    if (cursors.up.isDown&& !player.jumpedLastFrame){\r\n\r\n        if(touching){  // this checks if the player is on the floor (we don't allow airjumps)\r\n            player.body.velocity.y = -1*player.jumpSpeed;   //\r\n            game.sound.play('jump');\r\n            player.jumpedLastFrame = true;\r\n        }\r\n    }else{player.jumpedLastFrame = false;}\r\n\r\n    if (!touching && cursors.up.isDown && player.hasJetpack && player.jetpackFuel > 0){\r\n      player.jetpackFuel --;\r\n      player.body.velocity.y = -1*player.jumpSpeed;\r\n      player.animations.play('jet');\r\n    }\r\n    else if (!touching && !this.touchingLastFrame){\r\n      player.loadTexture('character',1);\r\n    }\r\n\r\n    if (touching){\r\n      player.jetpackFuel = player.maxJetpackFuel;\r\n    }\r\n\r\n    // approach desiredX velocity\r\n    if (desiredX !== null){\r\n      player.body.velocity.x = player.body.velocity.x *0.5 + 0.5 * desiredX;\r\n    }\r\n\r\n    // handle falling beneath the map\r\n    if (game.world && game.world.bounds && this.y > game.world.bounds.y+game.world.bounds.height){\r\n      this.respawn();\r\n    }\r\n\r\n    this.touchingLastFrame = touching;\r\n\r\n  }\r\n\r\n  spawnToCheckpoint(p){\r\n    this.body.x = p.x+p.size/2;\r\n    this.body.y = p.y;\r\n    this.body.velocity.y = 0\r\n    this.body.velocity.x = 0;\r\n  }\r\n\r\n  spawnTo(x,y){\r\n    this.body.x=x;\r\n    this.body.y=y;\r\n    this.body.velocity.x = 0;\r\n    this.body.velocity.y = 0;\r\n\r\n    if (this.game.playerGroup){\r\n      console.log('add to player group');\r\n      this.game.playerGroup.addChild(this);\r\n    }else{\r\n      console.log('no player group');\r\n      this.game.world.addChild(this);\r\n    }\r\n  }\r\n\r\n  respawn(){\r\n    // get last checkpoint\r\n    var pt = game.lastCheckpoint|| {x:0,y:0};\r\n    this.spawnTo(pt.x,pt.y);\r\n  }\r\n\r\n  remove(){\r\n    this.game.world.remove(this);\r\n  }\r\n}\r\n\r\nfunction touchingDown(someone) {\r\n\t\tvar yAxis = p2.vec2.fromValues(0, 1);\r\n\t\tvar result = false;\r\n\t\tfor (var i = 0; i < game.physics.p2.world.narrowphase.contactEquations.length; i++) {\r\n\t\t\t\tvar c = game.physics.p2.world.narrowphase.contactEquations[i];  // cycles through all the contactEquations until it finds our \"someone\"\r\n\t\t\t\tif (c.bodyA === someone.body.data || c.bodyB === someone.body.data)        {\r\n\t\t\t\t\t\tvar d = p2.vec2.dot(c.normalA, yAxis); // Normal dot Y-axis\r\n\t\t\t\t\t\tif (c.bodyA === someone.body.data) d *= -1;\r\n\t\t\t\t\t\tif (d > 0.5) result = true;\r\n\t\t\t\t}\r\n\t\t} return result;\r\n}\r\n\r\nexport default Player\r\n",
    "// same as FixedSpeechBox BUT it has a brown color\r\nimport FixedSpeechBox from 'objects/FixedSpeechBox';\r\n\r\nclass PlayerSpeechBox extends FixedSpeechBox{\r\n\r\n  constructor(a,r,g,s){\r\n    super(a,r,g,s);\r\n\r\n    var s = {};\r\n    var currStyle = this.todoText.style\r\n    var k = Object.keys(currStyle);\r\n    for (var i = 0; i < k.length; i ++){\r\n      s[k[i]] = currStyle[k[i]];\r\n    }\r\n    s.fill = '#aaaa00';\r\n\r\n    this.todoText.setStyle(s);\r\n  }\r\n\r\n}\r\n\r\nexport default PlayerSpeechBox;\r\n",
    "class RainbowText extends Phaser.Text {\r\n\r\n\tconstructor(game, x, y, text) {\r\n\r\n\t\tsuper(game, x, y, text, { font: \"1em Arial\", fill: \"#ffffff\", align: \"center\" });\r\n\r\n\t\tthis._speed = 125; //ms\r\n\t\tthis._colorIndex = 0;\r\n\t\tthis._colors = ['#ee4035', '#f37736', '#fdf498', '#7bc043', '#0392cf'];\r\n\r\n\t\t//this.colorize();\r\n\t\tthis.startTimer();\r\n\r\n\t\tthis.game.stage.addChild(this);\r\n\r\n\t}\r\n\r\n\tstartTimer() {\r\n\t\t//this.game.time.events.loop(this._speed, this.colorize, this).timer.start();\r\n\t}\r\n\r\n\tcolorize() {\r\n\r\n\t\tfor (let i = 0; i < this.text.length; i++) {\r\n\r\n\t\t\tif (this._colorIndex === this._colors.length) {\r\n\t\t\t\tthis._colorIndex = 0;\r\n\t\t\t}\r\n\r\n\t\t\tthis.addColor(this._colors[this._colorIndex], i);\r\n\t\t\tthis._colorIndex++;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport default RainbowText;\r\n",
    "import FixedSpeechBox from 'objects/FixedSpeechBox';\r\n\r\nclass Ship extends Phaser.Sprite{\r\n  constructor(game,x,y){\r\n    super(game,x,y,null,0);\r\n    this.itemsNeeded = 6;\r\n    this.items = [];\r\n    game.world.addChild(this);\r\n  }\r\n\r\n  addItem(i){\r\n    this.items.push(i);\r\n  }\r\n\r\n  update(){\r\n    // get player, check if it's close\r\n    if (this.items.length >= this.itemsNeeded && Phaser.Point.distance(this,game.player) < 32){\r\n      //WIN!\r\n      game.state.start('WonState');\r\n      console.log('win')\r\n    }\r\n  }\r\n}\r\n\r\nexport default Ship;\r\n",
    "class Sky extends Phaser.Group{\r\n  constructor(game,parent){\r\n    super(game, parent, null);\r\n\r\n    this.game = game;\r\n    this.tileSprite = new Phaser.TileSprite(this.game, 0, 0, 640, 480, 'bg');\r\n    this.tileSprite.fixedToCamera = true;\r\n\r\n    this.addChild(this.tileSprite);\r\n\r\n  }\r\n\r\n  update(){\r\n    this.tileSprite.anchor.setTo((game.camera.x/(640*4))%0.5,(game.camera.y/6400)%0.5);\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\nexport default Sky;\r\n",
    "import RainbowText from 'objects/RainbowText';\r\n\r\nclass SpeechBox extends Phaser.Group{\r\n  constructor(x,y,str){\r\n    super(game, game.world, null);\r\n    this.str = str||'';\r\n    this.x=x;\r\n    this.y=y;\r\n\r\n    var chars = 'ABCDEFGHIJKLMNOPQRSTUVQXYZ'// + '0123456789-*!©\"\\'?.…,'';\r\n    this.retroFont = new Phaser.RetroFont(game, 'smallfont', 8, 8, chars, 8);\r\n\r\n    this.box = new Phaser.Sprite(game,0,0,'textbox');\r\n    this.addChild(this.box);\r\n\r\n    this.textTexture = new Phaser.Image(game,0,0);\r\n    this.textTexture.anchor.set(0.5, 1);\r\n    this.addChild(this.textTexture);\r\n\r\n\t\tthis.todoText = new RainbowText(this.game, 0, 0, this.str);\r\n    this.addChild(this.todoText);\r\n\r\n    this.updateText(this.str);\r\n  }\r\n\r\n  updateText(str){\r\n    this.str = str;\r\n    this.retroFont.text = str;\r\n    this.todoText.text = str;\r\n    this.retroFont.renderXY(this.textTexture);\r\n  }\r\n\r\n  show(str){\r\n    if (typeof str == 'string'){this.updateText(str)}\r\n    game.world.addChild(this);\r\n    game.sound.play('speech')\r\n  }\r\n\r\n  showUntilButtonPress(str,destroyAfter){\r\n    this.show(str);\r\n    var self = this;\r\n\r\n    game.paused = true;\r\n    game.sound.mute = false;\r\n\r\n    var p = new Promise(function(resolve,reject){\r\n\r\n      window.addEventListener('keydown',function(e){\r\n        if (e.key == \"Enter\"){\r\n          window.removeEventListener('keydown',this);\r\n          game.paused = false;\r\n          setTimeout(resolve,0);\r\n          if (destroyAfter){self.destroy()}\r\n        }\r\n      });\r\n\r\n    });\r\n\r\n    return p;\r\n  }\r\n\r\n  hide(){\r\n    game.world.remove(this);\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default SpeechBox;\r\n",
    "import RainbowText from 'objects/RainbowText';\r\nimport PlayingState from 'states/PlayingState'\r\n\r\nclass LoadingState extends Phaser.State {\r\n\r\n\tpreload(){\r\n\r\n\t\t// assets go here\r\n    game.load.tilemap('world', 'maps/world.json', null, Phaser.Tilemap.TILED_JSON);\r\n\t\tgame.load.image('paint_tiles', 'img/paint_tiles-sheet.png');\r\n\t\tgame.load.image('huge_tiles', 'img/huge_tiles.png');\r\n\r\n\r\n\t\tlet center = { x: this.game.world.centerX, y: this.game.world.centerY }\r\n\t\tthis.text = new RainbowText(this.game, center.x, center.y, \"- phaser -\\nwith a sprinkle of\\nES6 dust!\");\r\n\t\tthis.text.anchor.set(0.5);\r\n\r\n\t\t['jetpack','battery','booster','steeringwheel','bg','textbox','smallfont'].forEach(function(name){\r\n\t\t\tgame.load.image(name, 'img/'+name+'.png');\r\n\t\t});\r\n\r\n\r\n\t\t['die','dig','hello','jump','pickup','speech','checkpoint','music-1'].forEach(function(name){\r\n\t\t\tgame.load.audio(name, 'sounds/'+name+'.wav');\r\n\t\t});\r\n\r\n\t\tgame.load.spritesheet('character', 'img/character-sheet.png',64,64);\r\n\t\tgame.load.spritesheet('follower', 'img/follower.png',64,64);\r\n\t\tgame.load.spritesheet('checkpoint', 'img/checkpoint.png',32,32);\r\n\r\n    console.log('loading');\r\n\t\tgame.load.onLoadComplete.add(this.loadComplete,this\t);\r\n\t\tgame.load.onFileComplete.add(this.fileComplete,this\t);\r\n\r\n\r\n\t}\r\n\r\n\tloadComplete(){\r\n\t\tthis.text.text = 'Loaded.\\nPress ENTER to start';\r\n\t\tthis.enter = game.input.keyboard.addKey(Phaser.Keyboard.ENTER);\r\n\t\tif (window.debug){this.whenDone();}\r\n\t}\r\n\r\n\tfileComplete(progress){\r\n\t\tthis.text.text = Math.round(progress)+'% loaded';\r\n\t}\r\n\r\n\tupdate(){\r\n\t\tif (this.enter && this.enter.isDown){\r\n\t\t\tthis.whenDone();\r\n\t\t}\r\n\t}\r\n\r\n\twhenDone(){\r\n\t\tthis.text.destroy();\r\n\t\t// transition to playing state\r\n\t\tgame.state.start('PlayingState');\r\n\t}\r\n\r\n}\r\n\r\nexport default LoadingState;\r\n",
    "import RainbowText from 'objects/RainbowText';\r\nimport Player from 'objects/Player';\r\nimport CurvyShader from 'objects/CurvyShader'\r\nimport Follower from 'objects/Follower';\r\nimport Checkpoint from 'objects/Checkpoint'\r\nimport Item from 'objects/Item'\r\nimport Sky from 'objects/Sky';\r\nimport SpeechBox from 'objects/SpeechBox';\r\nimport FixedSpeechBox from 'objects/FixedSpeechBox';\r\nimport PlayerSpeechBox from 'objects/PlayerSpeechBox';\r\nimport Ship from 'objects/Ship'\r\n\r\nclass PlayingState extends Phaser.State {\r\n\r\n\tcreate() {\r\n\r\n\t\tlet center = { x: this.game.world.centerX, y: this.game.world.centerY }\r\n\t\tthis.game.stage.backgroundColor = '#787878';\r\n\t\tlet self = this;\r\n\r\n\t\t// add bg\r\n\t\tthis.sky = new Sky(this.game,this.game.stage);\r\n\t\tgame.world.addChild(this.sky);\r\n\r\n\t\t//create maps\r\n\r\n\t\tvar map = this.map = window.map = this.game.add.tilemap('world');\r\n\t\tmap.addTilesetImage('tiles','paint_tiles');\r\n\t\tmap.addTilesetImage('huge_tiles',\"huge_tiles\")\r\n\r\n\t\tgame.physics.startSystem(Phaser.Physics.P2JS);\r\n\t\t// create default collision group\r\n\t\tthis.game.physics.p2.defaultCollisionGroup = this.game.physics.p2.collisionGroups[0];\r\n\r\n\r\n\t\tthis.physicsLayer = null;\r\n\t\t// render each layer of the map\r\n\t\tmap.layers.forEach(function(l){\r\n\t\t\tlet layer = map.createLayer(l.name);\r\n\t\t\tif (l.name == 'physical'){\r\n\t\t\t\tself.physicsLayer = layer;\r\n\t\t\t\tlayer.debug=false;\r\n\t\t\t\tlayer.resizeWorld();\r\n\t\t\t\t// now add the layer for the player + followers\r\n\t\t\t\tgame.itemGroup = game.add.group();\r\n\t\t\t\tgame.followerGroup = game.add.group();\r\n\t\t\t\tgame.playerGroup = game.add.group();\r\n\t\t\t}else if (l.name == \"hazards\"){\r\n\t\t\t\t\tself.hazardLayer = layer;\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\t// create filter\r\n\r\n\t\tthis.warpFilter = new CurvyShader(game);\r\n\t\tthis.warpFilter.sizeX = 10;\r\n\t\tthis.warpFilter.sizeY = 10;\r\n\t\tthis.warpFilter.warp = 0;\r\n\t\tthis.world.filters = [this.warpFilter];\r\n\r\n\t\t// init physics\r\n\r\n\t\t// collision groups\r\n\t\tgame.worldCollisionGroup = game.physics.p2.createCollisionGroup();\r\n\t\tgame.playerCollisionGroup = game.physics.p2.createCollisionGroup();\r\n\t\tgame.npcCollisionGroup = game.physics.p2.createCollisionGroup();\r\n\r\n\t\t// enable collision on all tiles in the physical layer\r\n\t\tmap.setCollisionByExclusion([], true, 'physical', true)\r\n\r\n\t\tthis.layermain_tiles = game.physics.p2.convertTilemap(map, this.physicsLayer);\r\n\t\tthis.layerhazard_tiles = game.physics.p2.convertTilemap(map, this.hazardLayer);\r\n\t\tthis.layerobjects_tiles = game.physics.p2.convertCollisionObjects(map,\"collisions\");   // this converts the polylines of the tiled - object layer into physics bodies.. make sure to use the \"polyline\" tool and not the \"polygon\" tool - otherwise it will not work!!\r\n\r\n\t\t//load the checkpoints\r\n\t\tmap.objects.checkpoints.forEach(function(pt){\r\n\t\t\tvar checkPt = new Checkpoint(game,pt);\r\n\t\t});\r\n\r\n\t\t//load the items\r\n\t\tmap.objects.items.forEach(function(pt){\r\n\t\t\tvar item = new Item(game,pt);\r\n\t\t});\r\n\r\n\t\tmap.objects.followers.forEach(function(pt){\r\n\t\t\tvar follower = new Follower(game,0,0);\r\n\t\t\tfollower.spawnTo(pt.x,pt.y);\r\n\t\t\tif (pt.properties.sayOnFollow){\r\n\t\t\t\tfollower.sayOnFollow = pt.properties.sayOnFollow.split('\\n\\n');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\tthis.layerobjects_tiles.forEach(makeWorldObjectCollide);\r\n\t\tthis.layermain_tiles.forEach(makeWorldObjectCollide);\r\n\t\tthis.layerhazard_tiles.forEach(makeWorldObjectCollide);\r\n\r\n\t\tfunction makeWorldObjectCollide(t){\r\n\t\t\tt.setCollisionGroup(game.worldCollisionGroup);\r\n\t\t\tt.collides([game.playerCollisionGroup,game.npcCollisionGroup,game.worldCollisionGroup]);\r\n\t\t}\r\n\r\n\t\t// TODO: make the hazard tiles kill the player\r\n\r\n\t\t// create player\r\n\t\tthis.player = new Player(this.game,0,0);\r\n\t\tgame.player = this.player;\r\n\t\tgame.camera.follow(this.player);\r\n\t\tgame.camera.deadzone = new Phaser.Rectangle(320/2-20,240/2-40,20,40);\r\n\t\tgame.physics.p2.gravity.y = 800;\r\n\r\n\r\n\t\t//spawn player\r\n\r\n\t\tvar spawned = false;\r\n\r\n\t\tmap.objects.entities.forEach(function(e){\r\n\t\t\tif (e.type == 'spawn'){\r\n\t\t\t\tself.player.spawnTo(e.x,e.y);\r\n\t\t\t\tspawned = true;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (!spawned){\r\n\t\t\tconsole.warn('spawn point not deinfes');\r\n\t\t\tself.player.spawnTo(0,0);\r\n\t\t}\r\n\r\n\t\t// create speech box\r\n\t\t\tvar b = new PlayerSpeechBox().alertSequence([\r\n\t\t\t\t\t'Where am I?',\r\n\t\t\t\t\t'Did my ship crash?',\r\n\t\t\t\t\t'Oh no! Pieces are\\n strewn about everywhere!',\r\n\t\t\t\t\t'And to top it all off,\\nThis gravity is so high!',\r\n\t\t\t\t\t'I can\\'t fly, and the\\nparts are too heavy to carry!'\r\n\t\t\t]);\r\n\r\n\r\n\t\t// play music\r\n\t\tif (!window.debug){\r\n\t\t\tgame.music = game.add.audio('music-1');\r\n\t\t\tgame.music.loopFull()\r\n\t\t}\r\n\r\n\t\t// create ship\r\n\t\tthis.ship = game.ship = new Ship(game,176,208);\r\n\r\n\t}\r\n\r\n\tupdate(){\r\n\t\t// h = 1120\r\n\t\tthis.warpFilter.warp = Math.max(Math.min((  game.camera.y/game.camera.bounds.height)  ,0.5),0.2)\r\n\t}\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\nexport default PlayingState;\r\n",
    "import FixedSpeechBox from 'objects/FixedSpeechBox';\r\nimport Sky from 'objects/Sky';\r\n\r\nclass LoadingState extends Phaser.State {\r\n\r\n\tcreate(){\r\n    let center = { x: this.game.world.centerX, y: this.game.world.centerY }\r\n\r\n    let s = `And with that, our hero\r\nflew off into the sunset\r\n\r\nCredits:\r\nEverything: Fenwick67\r\n`.split('\\n\\n')\r\n    //let sky = new Sky(this.game,this.game.stage);\r\n\r\n    let box = new FixedSpeechBox();\r\n    box.alertSequence(s);\r\n\r\n\t}\r\n\r\n\r\n}\r\n\r\nexport default LoadingState;\r\n"
  ]
}